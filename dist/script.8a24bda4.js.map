{"version":3,"sources":["script.js"],"names":["app","async","crossDomain","url","method","headers","financeKey","financeHost","summaryURL","symbol","moversPromise","$","ajax","movers","then","data","moversObj","gainers","finance","result","losers","mostActive","updateTime","marketOpen","toggleClass","moverSize","quotes","slice","forEach","quote","HTMLtoAppend","append","click","e","preventDefault","val","getSummary","summary","getChart","chart","getProfile","profile","newsPromise","news","res","contents","content","articleTitle","title","articleSummary","articleTickers","stockTickers","articleLink","canonicalUrl","text","attr","addClass","removeClass","on","toUpperCase","length","console","log","Swal","fire","icon","confirmButtonText","timer","timerProgressBar","summaryPromise","values","quoteResponse","validExchanges","exchange","includes","changeCheck","regularMarketChange","valuesObj","longName","previousClosingPrice","regularMarketPreviousClose","openingPrice","regularMarketOpen","price","regularMarketPrice","daysChangeDollars","daysChangePercent","regularMarketChangePercent","regularMarketDayLow","regularMarketDayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","regularMarketVolume","averageVolume10Day","averageDailyVolume10Day","valuesObjEntries","Object","entries","newValuesObjEntries","i","availableValuesObj","availableValuesObjArr","check","populate","pennyStockFormatter","value","toFixed","end","parseFloat","bracketWrapNegatives","toLocaleString","chartColor","getChartColor","chartArr","timeAxis","timestamp","priceAxis","indicators","open","undefined","businessOpenEpoch","arr","epochToDate","businessCloseEpoch","j","start","stop","getBusinessHoursIndex","drawChart","prices","google","visualization","arrayToDataTable","dataTable","options","dateInNewTimezone","hAxis","titleTextStyle","color","textStyle","vAxis","minValue","Math","min","maxValue","max","legend","backgroundColor","chartArea","colors","AreaChart","document","getElementById","draw","concatArr","arrA","arrB","map","item","index","timePrice","concat","charts","load","packages","setOnLoadCallback","window","resize","companyDescription","assetProfile","longBusinessSummary","empty","stopImmediatePropagation","width","Date","currentTime","toLocaleTimeString","day","month","year","hour","minute","second","timeZone","timeZoneName","formatter","Intl","DateTimeFormat","startingDate","format","hours","parseInt","minutes","dayOfWeek","getDay","isWeekend","businessHours","marketStatusAndTime","dateConversion","num","sym","abs","epoch","getTimezoneOffset","time","getHours","getMinutes","init","getNews","getMovers","getSelectValue"],"mappings":"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","file":"script.8a24bda4.js","sourceRoot":"..\\src","sourcesContent":["// APP using Yahoo Finance API calls to query various quotes for stocks traded on US exchanges\r\n// Proper error handling to address invalid stock symbols and insufficient\r\n// Displays top movers (% gain/ % loss/ most active by volume)\r\n// Displays updated chart when available\r\n\r\nconst app = {};\r\n\r\n// API information from: https://rapidapi.com/apidojo/api/yahoo-finance1\r\napp.financeKey = \"57edb9d42emsh2e21cedcaa1cecbp1f2a9ajsn8c9fb7947387\";\r\napp.financeHost = \"apidojo-yahoo-finance-v1.p.rapidapi.com\";\r\n\r\napp.summaryURL =\r\n\t\"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes?region=US\";\r\n\r\n// API requires at least one entry to return a summary, AMC chosen as default\r\napp.symbol = \"1\";\r\n\r\n// Function to call settings of top movers API call\r\napp.movers = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-movers?region=US&lang=en-US&count=10&start=0\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\napp.news = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/news/v2/get-details?uuid=9803606d-a324-3864-83a8-2bd621e6ccbd&region=US\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock summary API call\r\napp.summary = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `${app.summaryURL}&symbols=${app.symbol}`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock chart API call\r\napp.chart = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart?interval=5m&symbol=${app.symbol}&range=1d&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of profile API call\r\napp.profile = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-profile?symbol=${app.symbol}&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// API call for top movers\r\napp.getMovers = function () {\r\n\tconst moversPromise = $.ajax(app.movers());\r\n\treturn moversPromise.then(function (data) {\r\n\t\t// Storing objects of gainers, losers and most active stocks into accessible variables\r\n\t\tconst moversObj = {\r\n\t\t\tgainers: data.finance.result[0],\r\n\t\t\tlosers: data.finance.result[1],\r\n\t\t\tmostActive: data.finance.result[2],\r\n\t\t};\r\n\r\n\t\t// Updates the current time to check if market is open\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Hides most active stocks when market is closed as API returns no data at this time\r\n\t\tif (app.marketOpen() == \"closed\") {\r\n\t\t\t$(\".movers\").toggleClass(\"showMarketClosed\");\r\n\t\t}\r\n\r\n\t\tapp.moverSize = 6;\r\n\r\n\t\t// Populates gainers container with buttons\r\n\t\tmoversObj.gainers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"gainer\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".gainers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Populates losers container with buttons\r\n\t\tmoversObj.losers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"loser\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".losers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Toggles CSS class to display gainers and losers\r\n\t\t$(\".gainers\").toggleClass(\"show\");\r\n\t\t$(\".gainersTitle\").toggleClass(\"show\");\r\n\t\t$(\".losers\").toggleClass(\"show\");\r\n\t\t$(\".losersTitle\").toggleClass(\"show\");\r\n\r\n\t\t// Checks if market is open to display most active stocks\r\n\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t$(\".mostActive\").toggleClass(\"show\");\r\n\t\t\t$(\".mostActiveTitle\").toggleClass(\"show\");\r\n\r\n\t\t\t// If market is open, movers container is populated with buttons\r\n\t\t\tmoversObj.mostActive.quotes\r\n\t\t\t\t.slice(0, app.moverSize)\r\n\t\t\t\t.forEach(function (quote) {\r\n\t\t\t\t\tconst HTMLtoAppend = `<div class=\"mostActiveSymbols\">\r\n                    <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n                </div>`;\r\n\t\t\t\t\t$(\".mostActive\").append(HTMLtoAppend);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Links the buttons to subsequent API calls to pull up summary and chart data\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\t});\r\n};\r\n\r\n// API call for top movers\r\napp.getNews = function () {\r\n\tconst newsPromise = $.ajax(app.news());\r\n\treturn newsPromise.then(function (res) {\r\n\t\tcontents = res.data.contents[0].content;\r\n\t\tarticleTitle = contents.title;\r\n\t\tarticleSummary = contents.summary;\r\n\t\tarticleTickers = contents.finance.stockTickers;\r\n\t\tarticleLink = contents.canonicalUrl.url;\r\n\r\n\t\t$(\".articleTitle\").text(articleTitle);\r\n\t\tarticleTickers.forEach(function (quote) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"articleTicker\">\r\n                <button id=\"articleSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t$(\".articleTickers\").append(HTMLtoAppend);\r\n\t\t});\r\n\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\r\n\t\t$(\".articleSummary\").text(articleSummary);\r\n\t\t$(\".articleLink\").attr(\"href\", articleLink);\r\n\t\t$(\"#news\").addClass(\"show\");\r\n\t\t$(\"#news\").removeClass(\"hidden\");\r\n\t});\r\n};\r\n\r\n// Function to handle and register stock symbol from text input\r\napp.getSelectValue = function () {\r\n\t$(\"form\").on(\"submit\", function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Registers stock symbol from search bar\r\n\t\tapp.symbol = $(\"#symbol\").val().toUpperCase();\r\n\r\n\t\t// Error 1: handling symbols with length of more than 5 characters\r\n\t\tif (app.symbol.length > 5) {\r\n\t\t\tconsole.log(\"Error 1!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${\r\n\t\t\t\t\tapp.symbol\r\n\t\t\t\t} is not a listed US security. Most symbols traded in the US have a symbol length between 1 and 5 characters. Did you mean ${app.symbol.slice(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t5\r\n\t\t\t\t)}?`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 5000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t}\r\n\r\n\t\t// Proceeds to summary and chart API calls if the symbol is within accepted length\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// API call for stock summary\r\napp.getSummary = function () {\r\n\tconst summaryPromise = $.ajax(app.summary());\r\n\treturn summaryPromise.then(function (data) {\r\n\t\t// Storing values in an accessible variable\r\n\t\tvalues = data.quoteResponse.result[0];\r\n\r\n\t\t// Error 2: if call returns no values\r\n\t\tif (typeof values === \"undefined\") {\r\n\t\t\tconsole.log(\"Error 2!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Updates market time with each call\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Checks symbol's corresponding exchange to determine if it is a US security\r\n\t\tvalidExchanges = [\r\n\t\t\t\"NYQ\",\r\n\t\t\t\"PNK\",\r\n\t\t\t\"NMS\",\r\n\t\t\t\"YHD\",\r\n\t\t\t\"NCM\",\r\n\t\t\t\"NGM\",\r\n\t\t\t\"ARC\",\r\n\t\t\t\"BATS\",\r\n\t\t\t\"NGS\",\r\n\t\t\t\"OOTC\",\r\n\t\t\t\"OTC\",\r\n\t\t\t\"ASE\",\r\n\t\t];\r\n\t\texchange = values.exchange;\r\n\r\n\t\t// Error 3: handling for instances where certain values are not found\r\n\t\tif (!validExchanges.includes(exchange)) {\r\n\t\t\tconsole.log(\"Error 3!\", exchange);\r\n\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. It trades on ${exchange}. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Begin populating div.values with values\r\n\r\n\t\t\t// Sign of market change stored for later use in chart formatting\r\n\t\t\tapp.changeCheck = values.regularMarketChange;\r\n\r\n\t\t\t// Object to store desired values from successful API call\r\n\t\t\tconst valuesObj = {\r\n\t\t\t\tlongName: values.longName,\r\n\t\t\t\tpreviousClosingPrice: values.regularMarketPreviousClose,\r\n\t\t\t\topeningPrice: values.regularMarketOpen,\r\n\t\t\t\tprice: values.regularMarketPrice,\r\n\t\t\t\tdaysChangeDollars: values.regularMarketChange,\r\n\t\t\t\tdaysChangePercent: values.regularMarketChangePercent,\r\n\t\t\t\tregularMarketDayLow: values.regularMarketDayLow,\r\n\t\t\t\tregularMarketDayHigh: values.regularMarketDayHigh,\r\n\t\t\t\tfiftyTwoWeekLow: values.fiftyTwoWeekLow,\r\n\t\t\t\tfiftyTwoWeekHigh: values.fiftyTwoWeekHigh,\r\n\t\t\t\tregularMarketVolume: values.regularMarketVolume,\r\n\t\t\t\taverageVolume10Day: values.averageDailyVolume10Day,\r\n\t\t\t};\r\n\r\n\t\t\t// Confirming that the call returns all 13 pieces of information using a for loop\r\n\t\t\tconst valuesObjEntries = Object.entries(valuesObj);\r\n\t\t\tconst newValuesObjEntries = Object.entries(valuesObj);\r\n\r\n\t\t\t// If an entry is undefined, its value is changed to 0\r\n\t\t\tfor (i = 0; i < valuesObjEntries.length; i++) {\r\n\t\t\t\tif (typeof valuesObjEntries[i][1] === \"undefined\") {\r\n\t\t\t\t\tnewValuesObjEntries[i][1] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Converting the entries array back into an object\r\n\t\t\tconst availableValuesObj = {\r\n\t\t\t\tlongName: newValuesObjEntries[0][1],\r\n\t\t\t\tpreviousClosingPrice: newValuesObjEntries[1][1],\r\n\t\t\t\topeningPrice: newValuesObjEntries[2][1],\r\n\t\t\t\tprice: newValuesObjEntries[3][1],\r\n\t\t\t\tdaysChangeDollars: newValuesObjEntries[4][1],\r\n\t\t\t\tdaysChangePercent: newValuesObjEntries[5][1],\r\n\t\t\t\tregularMarketDayLow: newValuesObjEntries[6][1],\r\n\t\t\t\tregularMarketDayHigh: newValuesObjEntries[7][1],\r\n\t\t\t\tfiftyTwoWeekLow: newValuesObjEntries[8][1],\r\n\t\t\t\tfiftyTwoWeekHigh: newValuesObjEntries[9][1],\r\n\t\t\t\tregularMarketVolume: newValuesObjEntries[10][1],\r\n\t\t\t\taverageVolume10Day: newValuesObjEntries[11][1],\r\n\t\t\t};\r\n\r\n\t\t\t// Creating an array to check for unavailable data\r\n\t\t\tconst availableValuesObjArr = Object.values(availableValuesObj);\r\n\r\n\t\t\t// Variable to track number of entries that are missing data\r\n\t\t\tapp.check = 0;\r\n\r\n\t\t\tfor (i = 0; i < availableValuesObjArr.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tavailableValuesObjArr[i] === 0 ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"$0.00\" ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"0.00%\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tapp.check += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Error 4: handling symbols with insufficient data\r\n\t\t\t// If the entire array is comprised of the above values, then the symbol is considered inactive\r\n\t\t\tif (app.check == 12) {\r\n\t\t\t\tconsole.log(\"Error 4!\");\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Error!`,\r\n\t\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. Try another symbol.`,\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\t\ttimer: 3000,\r\n\t\t\t\t\ttimerProgressBar: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\t} else {\r\n\t\t\t\t// Populate quotesContent with values\r\n\t\t\t\tapp.populate = function () {\r\n\t\t\t\t\t// Updates current time\r\n\t\t\t\t\tapp.updateTime();\r\n\r\n\t\t\t\t\tapp.pennyStockFormatter = function (value) {\r\n\t\t\t\t\t\tif (typeof value === \"number\") {\r\n\t\t\t\t\t\t\tif (value < 1) {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(3);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = value[value.length - 1];\r\n\t\t\t\t\t\t\tif (value[0] === \"$\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(1)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (value[end] === \"%\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(0, end)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}%`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}%`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Updating variables to correct decimal places\r\n\t\t\t\t\tavailableValuesObj.previousClosingPrice =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.previousClosingPrice\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.openingPrice = app.pennyStockFormatter(\r\n\t\t\t\t\t\tavailableValuesObj.openingPrice\r\n\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangeDollars =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangePercent =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"%\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.price = app.bracketWrapNegatives(\r\n\t\t\t\t\t\tapp.pennyStockFormatter(availableValuesObj.price),\r\n\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Populates longName, previousClosingPrice, openingPrice, daysChangeDollars and daysChangePercent spans\r\n\t\t\t\t\t$(\".longName\").text(availableValuesObj.longName);\r\n\t\t\t\t\t$(\".previousClosingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.previousClosingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".openingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.openingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangeDollars\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangePercent\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to opening price if less than previous close\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.openingPrice) <\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.previousClosingPrice)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t$(\".openingPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the value is left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".openingPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to Day's Change and price if negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the values are left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Populates daysRange, fiftyTwoWeekRange, regularMarketVolume and averageVolume10Day spans\r\n\t\t\t\t\t$(\".daysRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.regularMarketDayLow} - $${availableValuesObj.regularMarketDayHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".fiftyTwoWeekRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.fiftyTwoWeekLow} - $${availableValuesObj.fiftyTwoWeekHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".regularMarketVolume\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.regularMarketVolume.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".averageVolume10Day\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.averageVolume10Day.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Hides news, displays quotesContent and sets symbol\r\n\t\t\t\t\t$(\"#news\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\"#news\").removeClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").addClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Check whether market is open to display either \"Current Price: \" or \"Close: \"\r\n\t\t\t\t// Market open response:\r\n\t\t\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t\t\tapp.populate();\r\n\r\n\t\t\t\t\t$(\".regularMarketPrice\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.price}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Market closed response:\r\n\t\t\t\telse {\r\n\t\t\t\t\tapp.populate();\r\n\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".regularMarketPriceHeader\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".closePrice\").text(`${availableValuesObj.price}`);\r\n\t\t\t\t\t$(\".closeHeader\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".closeHeader\").addClass(\"show\");\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to close price if day's change was negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".closePrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\".closePrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// // Queries day's change to determine whether chart is displayed in red (-ve change) or green (+ve change)\r\napp.getChartColor = function () {\r\n\tapp.chartColor = \"green\";\r\n\r\n\tif (app.changeCheck < 0) {\r\n\t\tapp.chartColor = \"red\";\r\n\t}\r\n};\r\n\r\n// API call for stock chart\r\napp.getChart = function () {\r\n\tconst chartPromise = $.ajax(app.chart());\r\n\tchartPromise.then(function (data) {\r\n\t\t// Run here in an attempt to make the color change more responsive to quick switches between red and green graphs\r\n\t\tapp.getChartColor();\r\n\r\n\t\tconst chartArr = data.chart.result[0];\r\n\t\ttimeAxis = chartArr.timestamp;\r\n\t\tpriceAxis = chartArr.indicators.quote[0].open;\r\n\r\n\t\t// Error 5: handling symbols with summary data but no graph data\r\n\t\tif (timeAxis == undefined && app.getSummary()) {\r\n\t\t\tconsole.log(\"Error 5!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} does not have updated chart information.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\t// Error 6: handling symbols without graph timestamp, price or summary data\r\n\t\telse if (timeAxis == (undefined || null)) {\r\n\t\t\tconsole.log(\"Error 6!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. It may have been delisted. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Preparing the page for the addition of summary and graph data, and clearing any errors\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t}\r\n\r\n\t\t// Finds index of array corresponding to 9:30am timestamp\r\n\t\tbusinessOpenEpoch = function (arr) {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (app.epochToDate(arr[i]) === \"9:30\") {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Finds index of array corresponding to either current time if the market is open or the 4:05pm timestamp if the market is closed.\r\n\t\t// This is used as the end index when querying the price data for the graph\r\n\t\tbusinessCloseEpoch = function (arr) {\r\n\t\t\tfor (j = 0; j < arr.length; j++) {\r\n\t\t\t\tif (app.epochToDate(arr[j]) === \"16:05\") {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t} else if (j === arr.length) {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Setting the variables for start and stop index of the time and price arrays\r\n\t\tconst start = businessOpenEpoch(timeAxis);\r\n\t\tconst stop = businessCloseEpoch(timeAxis);\r\n\r\n\t\t// Returns the data from indices within our desired range of 9:30am -> current time or 4:00pm\r\n\t\tgetBusinessHoursIndex = function (arr) {\r\n\t\t\treturn arr.slice(start, stop);\r\n\t\t};\r\n\r\n\t\ttimeAxis = getBusinessHoursIndex(timeAxis);\r\n\r\n\t\t// Converts the array of epoch to local time string (ex: \"9:30\",\"16:00\")\r\n\t\tfor (i = 0; i < timeAxis.length; i++) {\r\n\t\t\ttimeAxis[i] = app.epochToDate(timeAxis[i]);\r\n\t\t}\r\n\r\n\t\t// Error 7: handling arrays that contain incomplete data from entire business day\r\n\t\tif (app.marketOpen() == \"closed\" && timeAxis.length < 75) {\r\n\t\t\tconsole.log(\"Error 7!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing chart data for parts of the regular market open.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\tpriceAxis = getBusinessHoursIndex(priceAxis);\r\n\r\n\t\t// Formats the available price data into either 4 decimals (for stocks under $1) or 2 decimals\r\n\t\tfor (i = 0; i < priceAxis.length; i++) {\r\n\t\t\tif (priceAxis[i] === null) {\r\n\t\t\t\tpriceAxis[i] = priceAxis[i - 1];\r\n\t\t\t} else if (priceAxis[i] < 1.0) {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(4));\r\n\t\t\t} else {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(2));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Creates a 2D array by concatenating the timeAxis and priceAxis arrays\r\n\t\t// This is needed to format the dataTable used to display the graph in Google Charts\r\n\t\tconcatArr = function (arrA, arrB) {\r\n\t\t\treturn arrA.map((item, index) => [item, arrB[index]]);\r\n\t\t};\r\n\r\n\t\ttimePrice = concatArr(timeAxis, priceAxis);\r\n\r\n\t\t// Adds a top row to the 2D array containing the title \"Time\" and the symbol of the stock\r\n\t\tdataTable = [[\"Time\", `${app.symbol}`]].concat(timePrice);\r\n\r\n\t\t// Loads the chart\r\n\t\tgoogle.charts.load(\"current\", { packages: [\"corechart\"] });\r\n\t\tgoogle.charts.setOnLoadCallback(drawChart);\r\n\r\n\t\t// Draws the chart\r\n\t\tfunction drawChart() {\r\n\t\t\tconst prices = google.visualization.arrayToDataTable(dataTable);\r\n\r\n\t\t\t// Formatting options for graph\r\n\t\t\toptions = {\r\n\t\t\t\ttitle: `${app.symbol} - ${app.dateInNewTimezone}`,\r\n\r\n\t\t\t\thAxis: {\r\n\t\t\t\t\ttitle: \"Time\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tvAxis: {\r\n\t\t\t\t\tminValue: Math.min(priceAxis) - 5,\r\n\t\t\t\t\tmaxValue: Math.max(priceAxis) + 5,\r\n\t\t\t\t\ttitle: \"Price\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlegend: { textStyle: { color: \"white\" } },\r\n\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\tbackgroundColor: \"black\",\r\n\t\t\t\tchartArea: { backgroundColor: \"black\" },\r\n\t\t\t\tcolors: [`${app.chartColor}`],\r\n\t\t\t};\r\n\r\n\t\t\t// Calling graph\r\n\t\t\tconst chart = new google.visualization.AreaChart(\r\n\t\t\t\tdocument.getElementById(\"graph\")\r\n\t\t\t);\r\n\t\t\tchart.draw(prices, options);\r\n\t\t}\r\n\t\t$(window).resize(function () {\r\n\t\t\tdrawChart();\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getProfile = function () {\r\n\tconst profilePromise = $.ajax(app.profile());\r\n\tprofilePromise.then(function (data) {\r\n\t\tapp.companyDescription = data.assetProfile.longBusinessSummary;\r\n\r\n\t\tif (app.companyDescription === undefined) {\r\n\t\t\t$(\".profileInformation\").addClass(\"hidden\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing information from its profile.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t} else {\r\n\t\t\t$(\".profileInformation\").empty();\r\n\r\n\t\t\t// Populates profileInformation container\r\n\t\t\tconst HTMLtoAppend = `<button class=\"getProfile\" value=${app.symbol}>View Profile</button>`;\r\n\t\t\t$(\".profileInformation\").append(HTMLtoAppend);\r\n\r\n\t\t\t// Displays profile\r\n\t\t\t$(\".profileInformation\").on(\"click\", function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Profile for ${app.symbol}:`,\r\n\t\t\t\t\ttext: app.companyDescription,\r\n\t\t\t\t\ticon: \"info\",\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\tconfirmButtonText: \"Return to Quote\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Helper functions\r\n\r\n// Checks current time to verify whether market is open or closed\r\napp.currentTime = function () {\r\n\treturn new Date();\r\n};\r\n\r\n// Converts date to format usable for other calculations ()\r\napp.dateConversion = function () {\r\n\tapp.currentTime.toLocaleTimeString;\r\n\r\n\t// Options to return time in EST/EDT\r\n\tapp.options = {\r\n\t\tday: \"2-digit\",\r\n\t\tmonth: \"2-digit\",\r\n\t\tyear: \"2-digit\",\r\n\t\thour: \"2-digit\",\r\n\t\tminute: \"2-digit\",\r\n\t\tsecond: \"2-digit\",\r\n\t\ttimeZone: \"America/New_York\",\r\n\t\ttimeZoneName: \"short\",\r\n\t};\r\n\r\n\t// Converts local time to EST/EDT\r\n\tapp.formatter = new Intl.DateTimeFormat(\"sv-SE\", app.options);\r\n\tapp.startingDate = app.currentTime();\r\n\tapp.dateInNewTimezone = app.formatter.format(app.startingDate);\r\n\r\n\t// Grabbing hours and minutes in 24 hour format\r\n\tapp.hours = parseInt(app.dateInNewTimezone.slice(8, 11));\r\n\tapp.minutes = parseInt(app.dateInNewTimezone.slice(12, 15));\r\n};\r\n\r\n// Checks if current time is within 9:30am - 4:30pm EST/EDT\r\napp.businessHours = function () {\r\n\treturn (\r\n\t\t(app.hours >= 9 || (app.hours === 9 && app.minutes >= 30)) &&\r\n\t\tapp.hours < 16\r\n\t);\r\n\r\n\t// For opposite market  styling, uncomment code below:\r\n\r\n\t// return (\r\n\t// \t(app.hours <= 9 || (app.hours === 9 && app.minutes <= 30)) &&\r\n\t// \tapp.hours > 16\r\n\t// );\r\n};\r\n\r\n// Checks if it is a weekday or weekend\r\napp.dayOfWeek = app.currentTime().getDay();\r\napp.isWeekend = app.dayOfWeek === 6 || app.dayOfWeek === 0;\r\n\r\n// Checks current market status\r\napp.marketOpen = function () {\r\n\tif (app.isWeekend || !app.businessHours()) {\r\n\t\treturn \"closed\";\r\n\t} else {\r\n\t\treturn \"open\";\r\n\t}\r\n};\r\n\r\n// Populate date/time field on page\r\napp.marketStatusAndTime = function () {\r\n\t$(\".marketStatus\").text(`Market is currently ${app.marketOpen()}.`);\r\n\t$(\".currentTime\").text(`Last refreshed: ${app.dateInNewTimezone}`);\r\n};\r\n\r\n// Condensed function to call all of the above\r\napp.updateTime = function () {\r\n\tapp.currentTime();\r\n\tapp.dateConversion();\r\n\tapp.marketOpen();\r\n\tapp.marketStatusAndTime();\r\n};\r\n\r\n// Formats negative numbers to be displayed wrapped in brackets\r\napp.bracketWrapNegatives = function (num, sym) {\r\n\tif (typeof num == \"undefined\") {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tif (num[0] === \"(\" && num[num.length - 1] === \")\") {\r\n\t\tnum = `-${num.slice(1, num.length - 1)}`;\r\n\t}\r\n\r\n\tif (num[1] === \"$\") {\r\n\t\tnum = num.slice(2);\r\n\t} else if (num[0] === \"$\") {\r\n\t\tnum = num.slice(1);\r\n\t} else if (num[num.length - 1] === \"%\") {\r\n\t\tnum = num.slice(0, num.length - 1);\r\n\t}\r\n\r\n\tnum = parseFloat(num);\r\n\r\n\tif (num < 0) {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `(${sym}${Math.abs(num).toFixed(2)})`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `(${Math.abs(num).toFixed(2)}${sym})`;\r\n\t\t}\r\n\t} else {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `${sym}${num.toFixed(2)}`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `${num.toFixed(2)}${sym}`;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Converts epoch (ms) to current time\r\napp.epochToDate = function (epoch) {\r\n\tif (epoch < 10000000000) epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)\r\n\tvar epoch = epoch + new Date().getTimezoneOffset() * -1; //for timeZone\r\n\thours = new Date(epoch).getHours();\r\n\tminutes = new Date(epoch).getMinutes() + 1;\r\n\r\n\tif (minutes == 60) {\r\n\t\tminutes = \"00\";\r\n\t\thours += 1;\r\n\t} else if (minutes == 5) {\r\n\t\tminutes = \"05\";\r\n\t}\r\n\r\n\ttime = `${hours}:${minutes}`;\r\n\treturn time;\r\n};\r\n\r\n// Init\r\napp.init = function () {\r\n\tthis.getNews();\r\n\tthis.getMovers();\r\n\tthis.getSelectValue();\r\n};\r\n\r\n// DocReady\r\n$(function () {\r\n\tapp.init();\r\n});\r\n"]}