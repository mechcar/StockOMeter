{"version":3,"sources":["script.js"],"names":["app","async","crossDomain","url","method","headers","financeKey","financeHost","summaryURL","symbol","moversPromise","$","ajax","movers","then","data","moversObj","gainers","finance","result","losers","mostActive","updateTime","marketOpen","toggleClass","moverSize","quotes","slice","forEach","quote","HTMLtoAppend","append","addClass","removeClass","click","e","preventDefault","val","getSummary","summary","getChart","chart","getProfile","profile","watchlistsPromise","watchlists","res","portfolios","splice","console","log","watchlist","name","backgroundImage","shortDescription","slug","on","toUpperCase","length","Swal","fire","title","text","icon","confirmButtonText","width","timer","timerProgressBar","summaryPromise","values","quoteResponse","validExchanges","exchange","includes","changeCheck","regularMarketChange","valuesObj","longName","previousClosingPrice","regularMarketPreviousClose","openingPrice","regularMarketOpen","price","regularMarketPrice","daysChangeDollars","daysChangePercent","regularMarketChangePercent","regularMarketDayLow","regularMarketDayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","regularMarketVolume","averageVolume10Day","averageDailyVolume10Day","valuesObjEntries","Object","entries","newValuesObjEntries","i","availableValuesObj","availableValuesObjArr","check","populate","pennyStockFormatter","value","toFixed","end","parseFloat","bracketWrapNegatives","toLocaleString","chartColor","getChartColor","chartArr","timeAxis","timestamp","priceAxis","indicators","open","undefined","businessOpenEpoch","arr","epochToDate","businessCloseEpoch","j","start","stop","getBusinessHoursIndex","drawChart","prices","google","visualization","arrayToDataTable","dataTable","options","dateInNewTimezone","hAxis","titleTextStyle","color","textStyle","vAxis","minValue","Math","min","maxValue","max","legend","backgroundColor","chartArea","colors","AreaChart","document","getElementById","draw","concatArr","arrA","arrB","map","item","index","timePrice","concat","charts","load","packages","setOnLoadCallback","window","resize","companyDescription","assetProfile","longBusinessSummary","empty","stopImmediatePropagation","Date","currentTime","toLocaleTimeString","day","month","year","hour","minute","second","timeZone","timeZoneName","formatter","Intl","DateTimeFormat","startingDate","format","hours","parseInt","minutes","dayOfWeek","getDay","isWeekend","businessHours","marketStatusAndTime","dateConversion","num","sym","abs","epoch","getTimezoneOffset","time","getHours","getMinutes","init","getWatchlists","getMovers","getSelectValue"],"mappings":"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","file":"script.62574a94.js","sourceRoot":"..\\src","sourcesContent":["// APP using Yahoo Finance API calls to query various quotes for stocks traded on US exchanges\r\n// Proper error handling to address invalid stock symbols and insufficient\r\n// Displays top movers (% gain/ % loss/ most active by volume)\r\n// Displays updated chart when available\r\n\r\nconst app = {};\r\n\r\n// API information from: https://rapidapi.com/apidojo/api/yahoo-finance1\r\napp.financeKey = \"57edb9d42emsh2e21cedcaa1cecbp1f2a9ajsn8c9fb7947387\";\r\napp.financeHost = \"apidojo-yahoo-finance-v1.p.rapidapi.com\";\r\n\r\napp.summaryURL =\r\n\t\"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes?region=US\";\r\n\r\n// API requires at least one entry to return a summary, AMC chosen as default\r\napp.symbol = \"1\";\r\n\r\n// Function to call settings of top movers API call\r\napp.movers = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-movers?region=US&lang=en-US&count=10&start=0\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\napp.watchlists = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/get-popular-watchlists\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock summary API call\r\napp.summary = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `${app.summaryURL}&symbols=${app.symbol}`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock chart API call\r\napp.chart = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart?interval=5m&symbol=${app.symbol}&range=1d&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of profile API call\r\napp.profile = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-profile?symbol=${app.symbol}&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// API call for top movers\r\napp.getMovers = function () {\r\n\tconst moversPromise = $.ajax(app.movers());\r\n\treturn moversPromise.then(function (data) {\r\n\t\t// Storing objects of gainers, losers and most active stocks into accessible variables\r\n\t\tconst moversObj = {\r\n\t\t\tgainers: data.finance.result[0],\r\n\t\t\tlosers: data.finance.result[1],\r\n\t\t\tmostActive: data.finance.result[2],\r\n\t\t};\r\n\r\n\t\t// Updates the current time to check if market is open\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Hides most active stocks when market is closed as API returns no data at this time\r\n\t\tif (app.marketOpen() == \"closed\") {\r\n\t\t\t$(\".movers\").toggleClass(\"showMarketClosed\");\r\n\t\t}\r\n\r\n\t\tapp.moverSize = 6;\r\n\r\n\t\t// Populates gainers container with buttons\r\n\t\tmoversObj.gainers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"gainer\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".gainers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Populates losers container with buttons\r\n\t\tmoversObj.losers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"loser\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".losers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Toggles CSS class to display gainers and losers\r\n\t\t$(\".gainers\").addClass(\"show\");\r\n\t\t$(\".gainers\").removeClass(\"hidden\");\r\n\t\t$(\".gainersTitle\").addClass(\"show\");\r\n\t\t$(\".gainersTitle\").removeClass(\"hidden\");\r\n\t\t$(\".losers\").addClass(\"show\");\r\n\t\t$(\".losers\").removeClass(\"hidden\");\r\n\t\t$(\".losersTitle\").addClass(\"show\");\r\n\t\t$(\".losersTitle\").removeClass(\"hidden\");\r\n\r\n\t\t// Checks if market is open to display most active stocks\r\n\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t$(\".mostActive\").addClass(\"showMostActive\");\r\n\t\t\t$(\".mostActive\").removeClass(\"hidden\");\r\n\t\t\t$(\".mostActiveTitle\").addClass(\"show\");\r\n\t\t\t$(\".mostActiveTitle\").removeClass(\"hidden\");\r\n\r\n\t\t\t// If market is open, movers container is populated with buttons\r\n\t\t\tmoversObj.mostActive.quotes\r\n\t\t\t\t.slice(0, app.moverSize)\r\n\t\t\t\t.forEach(function (quote) {\r\n\t\t\t\t\tconst HTMLtoAppend = `<div class=\"mostActiveSymbols\">\r\n                    <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n                </div>`;\r\n\t\t\t\t\t$(\".mostActive\").append(HTMLtoAppend);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Links the buttons to subsequent API calls to pull up summary and chart data\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getWatchlists = function () {\r\n\tconst watchlistsPromise = $.ajax(app.watchlists());\r\n\treturn watchlistsPromise.then(function (res) {\r\n\t\tconst watchlists = res.finance.result[0].portfolios.splice(0, 8);\r\n\t\tconsole.log(res.finance.result[0].portfolios);\r\n\t\tconsole.log(watchlists);\r\n\r\n\t\twatchlists.forEach(function (watchlist) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"popularWatchlist\">\r\n\t\t\t\t<h3>${watchlist.name}</h3>\r\n\t\t\t\t<div class='watchlistInfo'> \r\n\t\t\t\t<img src=${\r\n\t\t\t\t\twatchlist.backgroundImage[\"ios:size=card_small_fixed\"].url\r\n\t\t\t\t} alt=${`${watchlist.name} Cover Image`}>\r\n\t\t\t\t<p>${watchlist.shortDescription}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<a href=${`https://ca.finance.yahoo.com/u/yahoo-finance/watchlists/${watchlist.slug}`} class='watchlistDetails'><button>View Watchlist</button></a>\r\n\r\n            </div>`;\r\n\t\t\t$(\".watchlistsContainer\").append(HTMLtoAppend);\r\n\t\t});\r\n\r\n\t\t$(\"#watchlists\").addClass(\"show\");\r\n\t\t$(\"#watchlists\").removeClass(\"hidden\");\r\n\t\t$(\"#footer\").removeClass(\"hidden\");\r\n\t\t$(\"#footer\").addClass(\"show\");\r\n\t});\r\n};\r\n\r\n// Function to handle and register stock symbol from text input\r\napp.getSelectValue = function () {\r\n\t$(\"form\").on(\"submit\", function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Registers stock symbol from search bar\r\n\t\tapp.symbol = $(\"#symbol\").val().toUpperCase();\r\n\r\n\t\t// Error 1: handling symbols with length of more than 5 characters\r\n\t\tif (app.symbol.length > 5) {\r\n\t\t\tconsole.log(\"Error 1!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${\r\n\t\t\t\t\tapp.symbol\r\n\t\t\t\t} is not a listed US security. Most symbols traded in the US have a symbol length between 1 and 5 characters. Did you mean ${app.symbol.slice(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t5\r\n\t\t\t\t)}?`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\ttimer: 5000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t}\r\n\r\n\t\t// Proceeds to summary and chart API calls if the symbol is within accepted length\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// API call for stock summary\r\napp.getSummary = function () {\r\n\tconst summaryPromise = $.ajax(app.summary());\r\n\treturn summaryPromise.then(function (data) {\r\n\t\t// Storing values in an accessible variable\r\n\t\tvalues = data.quoteResponse.result[0];\r\n\r\n\t\t// Error 2: if call returns no values\r\n\t\tif (typeof values === \"undefined\") {\r\n\t\t\tconsole.log(\"Error 2!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Updates market time with each call\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Checks symbol's corresponding exchange to determine if it is a US security\r\n\t\tvalidExchanges = [\r\n\t\t\t\"NYQ\",\r\n\t\t\t\"PNK\",\r\n\t\t\t\"NMS\",\r\n\t\t\t\"YHD\",\r\n\t\t\t\"NCM\",\r\n\t\t\t\"NGM\",\r\n\t\t\t\"ARC\",\r\n\t\t\t\"BATS\",\r\n\t\t\t\"NGS\",\r\n\t\t\t\"OOTC\",\r\n\t\t\t\"OTC\",\r\n\t\t\t\"ASE\",\r\n\t\t];\r\n\t\texchange = values.exchange;\r\n\r\n\t\t// Error 3: handling for instances where certain values are not found\r\n\t\tif (!validExchanges.includes(exchange)) {\r\n\t\t\tconsole.log(\"Error 3!\", exchange);\r\n\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. It trades on ${exchange}. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Begin populating div.values with values\r\n\r\n\t\t\t// Sign of market change stored for later use in chart formatting\r\n\t\t\tapp.changeCheck = values.regularMarketChange;\r\n\r\n\t\t\t// Object to store desired values from successful API call\r\n\t\t\tconst valuesObj = {\r\n\t\t\t\tlongName: values.longName,\r\n\t\t\t\tpreviousClosingPrice: values.regularMarketPreviousClose,\r\n\t\t\t\topeningPrice: values.regularMarketOpen,\r\n\t\t\t\tprice: values.regularMarketPrice,\r\n\t\t\t\tdaysChangeDollars: values.regularMarketChange,\r\n\t\t\t\tdaysChangePercent: values.regularMarketChangePercent,\r\n\t\t\t\tregularMarketDayLow: values.regularMarketDayLow,\r\n\t\t\t\tregularMarketDayHigh: values.regularMarketDayHigh,\r\n\t\t\t\tfiftyTwoWeekLow: values.fiftyTwoWeekLow,\r\n\t\t\t\tfiftyTwoWeekHigh: values.fiftyTwoWeekHigh,\r\n\t\t\t\tregularMarketVolume: values.regularMarketVolume,\r\n\t\t\t\taverageVolume10Day: values.averageDailyVolume10Day,\r\n\t\t\t};\r\n\r\n\t\t\t// Confirming that the call returns all 13 pieces of information using a for loop\r\n\t\t\tconst valuesObjEntries = Object.entries(valuesObj);\r\n\t\t\tconst newValuesObjEntries = Object.entries(valuesObj);\r\n\r\n\t\t\t// If an entry is undefined, its value is changed to 0\r\n\t\t\tfor (i = 0; i < valuesObjEntries.length; i++) {\r\n\t\t\t\tif (typeof valuesObjEntries[i][1] === \"undefined\") {\r\n\t\t\t\t\tnewValuesObjEntries[i][1] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Converting the entries array back into an object\r\n\t\t\tconst availableValuesObj = {\r\n\t\t\t\tlongName: newValuesObjEntries[0][1],\r\n\t\t\t\tpreviousClosingPrice: newValuesObjEntries[1][1],\r\n\t\t\t\topeningPrice: newValuesObjEntries[2][1],\r\n\t\t\t\tprice: newValuesObjEntries[3][1],\r\n\t\t\t\tdaysChangeDollars: newValuesObjEntries[4][1],\r\n\t\t\t\tdaysChangePercent: newValuesObjEntries[5][1],\r\n\t\t\t\tregularMarketDayLow: newValuesObjEntries[6][1],\r\n\t\t\t\tregularMarketDayHigh: newValuesObjEntries[7][1],\r\n\t\t\t\tfiftyTwoWeekLow: newValuesObjEntries[8][1],\r\n\t\t\t\tfiftyTwoWeekHigh: newValuesObjEntries[9][1],\r\n\t\t\t\tregularMarketVolume: newValuesObjEntries[10][1],\r\n\t\t\t\taverageVolume10Day: newValuesObjEntries[11][1],\r\n\t\t\t};\r\n\r\n\t\t\t// Creating an array to check for unavailable data\r\n\t\t\tconst availableValuesObjArr = Object.values(availableValuesObj);\r\n\r\n\t\t\t// Variable to track number of entries that are missing data\r\n\t\t\tapp.check = 0;\r\n\r\n\t\t\tfor (i = 0; i < availableValuesObjArr.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tavailableValuesObjArr[i] === 0 ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"$0.00\" ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"0.00%\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tapp.check += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Error 4: handling symbols with insufficient data\r\n\t\t\t// If the entire array is comprised of the above values, then the symbol is considered inactive\r\n\t\t\tif (app.check == 12) {\r\n\t\t\t\tconsole.log(\"Error 4!\");\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Error!`,\r\n\t\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. Try another symbol.`,\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t\twidth: 400,\r\n\t\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\t\ttimer: 3000,\r\n\t\t\t\t\ttimerProgressBar: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t} else {\r\n\t\t\t\t// Populate quotesContent with values\r\n\t\t\t\tapp.populate = function () {\r\n\t\t\t\t\t// Updates current time\r\n\t\t\t\t\tapp.updateTime();\r\n\r\n\t\t\t\t\tapp.pennyStockFormatter = function (value) {\r\n\t\t\t\t\t\tif (typeof value === \"number\") {\r\n\t\t\t\t\t\t\tif (value < 1) {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(3);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = value[value.length - 1];\r\n\t\t\t\t\t\t\tif (value[0] === \"$\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(1)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (value[end] === \"%\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(0, end)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}%`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}%`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Updating variables to correct decimal places\r\n\t\t\t\t\tavailableValuesObj.previousClosingPrice =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.previousClosingPrice\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.openingPrice = app.pennyStockFormatter(\r\n\t\t\t\t\t\tavailableValuesObj.openingPrice\r\n\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangeDollars =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangePercent =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"%\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.price = app.bracketWrapNegatives(\r\n\t\t\t\t\t\tapp.pennyStockFormatter(availableValuesObj.price),\r\n\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Populates longName, previousClosingPrice, openingPrice, daysChangeDollars and daysChangePercent spans\r\n\t\t\t\t\t$(\".longName\").text(availableValuesObj.longName);\r\n\t\t\t\t\t$(\".previousClosingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.previousClosingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".openingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.openingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangeDollars\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangePercent\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to opening price if less than previous close\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.openingPrice) <\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.previousClosingPrice)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t$(\".openingPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the value is left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".openingPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to Day's Change and price if negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the values are left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Populates daysRange, fiftyTwoWeekRange, regularMarketVolume and averageVolume10Day spans\r\n\t\t\t\t\t$(\".daysRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.regularMarketDayLow} - $${availableValuesObj.regularMarketDayHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".fiftyTwoWeekRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.fiftyTwoWeekLow} - $${availableValuesObj.fiftyTwoWeekHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".regularMarketVolume\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.regularMarketVolume.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".averageVolume10Day\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.averageVolume10Day.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Displays quotesContent and sets symbol\r\n\t\t\t\t\t$(\"#quotesContent\").addClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Check whether market is open to display either \"Current Price: \" or \"Close: \"\r\n\t\t\t\t// Market open response:\r\n\t\t\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t\t\tapp.populate();\r\n\r\n\t\t\t\t\t$(\".regularMarketPrice\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.price}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Market closed response:\r\n\t\t\t\telse {\r\n\t\t\t\t\tapp.populate();\r\n\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".regularMarketPriceHeader\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".closePrice\").text(`${availableValuesObj.price}`);\r\n\t\t\t\t\t$(\".closeHeader\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".closeHeader\").addClass(\"showMarketClosed\");\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to close price if day's change was negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".closePrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\".closePrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// // Queries day's change to determine whether chart is displayed in red (-ve change) or green (+ve change)\r\napp.getChartColor = function () {\r\n\tapp.chartColor = \"green\";\r\n\r\n\tif (app.changeCheck < 0) {\r\n\t\tapp.chartColor = \"red\";\r\n\t}\r\n};\r\n\r\n// API call for stock chart\r\napp.getChart = function () {\r\n\tconst chartPromise = $.ajax(app.chart());\r\n\tchartPromise.then(function (data) {\r\n\t\t// Run here in an attempt to make the color change more responsive to quick switches between red and green graphs\r\n\t\tapp.getChartColor();\r\n\r\n\t\tconst chartArr = data.chart.result[0];\r\n\t\ttimeAxis = chartArr.timestamp;\r\n\t\tpriceAxis = chartArr.indicators.quote[0].open;\r\n\r\n\t\t// Error 5: handling symbols with summary data but no graph data\r\n\t\tif (timeAxis == undefined && app.getSummary()) {\r\n\t\t\tconsole.log(\"Error 5!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} does not have updated chart information.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\t// Error 6: handling symbols without graph timestamp, price or summary data\r\n\t\telse if (timeAxis == (undefined || null)) {\r\n\t\t\tconsole.log(\"Error 6!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. It may have been delisted. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Preparing the page for the addition of summary and graph data, and clearing any errors\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t}\r\n\r\n\t\t// Finds index of array corresponding to 9:30am timestamp\r\n\t\tbusinessOpenEpoch = function (arr) {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (app.epochToDate(arr[i]) === \"9:30\") {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Finds index of array corresponding to either current time if the market is open or the 4:05pm timestamp if the market is closed.\r\n\t\t// This is used as the end index when querying the price data for the graph\r\n\t\tbusinessCloseEpoch = function (arr) {\r\n\t\t\tfor (j = 0; j < arr.length; j++) {\r\n\t\t\t\tif (app.epochToDate(arr[j]) === \"16:05\") {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t} else if (j === arr.length) {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Setting the variables for start and stop index of the time and price arrays\r\n\t\tconst start = businessOpenEpoch(timeAxis);\r\n\t\tconst stop = businessCloseEpoch(timeAxis);\r\n\r\n\t\t// Returns the data from indices within our desired range of 9:30am -> current time or 4:00pm\r\n\t\tgetBusinessHoursIndex = function (arr) {\r\n\t\t\treturn arr.slice(start, stop);\r\n\t\t};\r\n\r\n\t\ttimeAxis = getBusinessHoursIndex(timeAxis);\r\n\r\n\t\t// Converts the array of epoch to local time string (ex: \"9:30\",\"16:00\")\r\n\t\tfor (i = 0; i < timeAxis.length; i++) {\r\n\t\t\ttimeAxis[i] = app.epochToDate(timeAxis[i]);\r\n\t\t}\r\n\r\n\t\t// Error 7: handling arrays that contain incomplete data from entire business day\r\n\t\tif (app.marketOpen() == \"closed\" && timeAxis.length < 75) {\r\n\t\t\tconsole.log(\"Error 7!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing chart data for parts of the regular market open.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\tpriceAxis = getBusinessHoursIndex(priceAxis);\r\n\r\n\t\t// Formats the available price data into either 4 decimals (for stocks under $1) or 2 decimals\r\n\t\tfor (i = 0; i < priceAxis.length; i++) {\r\n\t\t\tif (priceAxis[i] === null) {\r\n\t\t\t\tpriceAxis[i] = priceAxis[i - 1];\r\n\t\t\t} else if (priceAxis[i] < 1.0) {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(4));\r\n\t\t\t} else {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(2));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Creates a 2D array by concatenating the timeAxis and priceAxis arrays\r\n\t\t// This is needed to format the dataTable used to display the graph in Google Charts\r\n\t\tconcatArr = function (arrA, arrB) {\r\n\t\t\treturn arrA.map((item, index) => [item, arrB[index]]);\r\n\t\t};\r\n\r\n\t\ttimePrice = concatArr(timeAxis, priceAxis);\r\n\r\n\t\t// Adds a top row to the 2D array containing the title \"Time\" and the symbol of the stock\r\n\t\tdataTable = [[\"Time\", `${app.symbol}`]].concat(timePrice);\r\n\r\n\t\t// Loads the chart\r\n\t\tgoogle.charts.load(\"current\", { packages: [\"corechart\"] });\r\n\t\tgoogle.charts.setOnLoadCallback(drawChart);\r\n\r\n\t\t// Draws the chart\r\n\t\tfunction drawChart() {\r\n\t\t\tconst prices = google.visualization.arrayToDataTable(dataTable);\r\n\r\n\t\t\t// Formatting options for graph\r\n\t\t\toptions = {\r\n\t\t\t\ttitle: `${app.symbol} - ${app.dateInNewTimezone}`,\r\n\r\n\t\t\t\thAxis: {\r\n\t\t\t\t\ttitle: \"Time\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tvAxis: {\r\n\t\t\t\t\tminValue: Math.min(priceAxis) - 5,\r\n\t\t\t\t\tmaxValue: Math.max(priceAxis) + 5,\r\n\t\t\t\t\ttitle: \"Price\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlegend: { textStyle: { color: \"white\" } },\r\n\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\tbackgroundColor: \"black\",\r\n\t\t\t\tchartArea: { backgroundColor: \"black\" },\r\n\t\t\t\tcolors: [`${app.chartColor}`],\r\n\t\t\t};\r\n\r\n\t\t\t// Calling graph\r\n\t\t\tconst chart = new google.visualization.AreaChart(\r\n\t\t\t\tdocument.getElementById(\"graph\")\r\n\t\t\t);\r\n\t\t\tchart.draw(prices, options);\r\n\t\t}\r\n\t\t$(window).resize(function () {\r\n\t\t\tdrawChart();\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getProfile = function () {\r\n\tconst profilePromise = $.ajax(app.profile());\r\n\tprofilePromise.then(function (data) {\r\n\t\tapp.companyDescription = data.assetProfile.longBusinessSummary;\r\n\r\n\t\tif (app.companyDescription === undefined) {\r\n\t\t\t$(\".profileInformation\").addClass(\"hidden\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing information from its profile.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t} else {\r\n\t\t\t$(\".profileInformation\").empty();\r\n\r\n\t\t\t// Populates profileInformation container\r\n\t\t\tconst HTMLtoAppend = `<button class=\"getProfile\" value=${app.symbol}>View Profile</button>`;\r\n\t\t\t$(\".profileInformation\").append(HTMLtoAppend);\r\n\r\n\t\t\t// Displays profile\r\n\t\t\t$(\".profileInformation\").on(\"click\", function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Profile for ${app.symbol}:`,\r\n\t\t\t\t\ttext: app.companyDescription,\r\n\t\t\t\t\ticon: \"info\",\r\n\t\t\t\t\twidth: 400,\r\n\t\t\t\t\tconfirmButtonText: \"Return to Quote\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Helper functions\r\n\r\n// Checks current time to verify whether market is open or closed\r\napp.currentTime = function () {\r\n\treturn new Date();\r\n};\r\n\r\n// Converts date to format usable for other calculations ()\r\napp.dateConversion = function () {\r\n\tapp.currentTime.toLocaleTimeString;\r\n\r\n\t// Options to return time in EST/EDT\r\n\tapp.options = {\r\n\t\tday: \"2-digit\",\r\n\t\tmonth: \"2-digit\",\r\n\t\tyear: \"2-digit\",\r\n\t\thour: \"2-digit\",\r\n\t\tminute: \"2-digit\",\r\n\t\tsecond: \"2-digit\",\r\n\t\ttimeZone: \"America/New_York\",\r\n\t\ttimeZoneName: \"short\",\r\n\t};\r\n\r\n\t// Converts local time to EST/EDT\r\n\tapp.formatter = new Intl.DateTimeFormat(\"sv-SE\", app.options);\r\n\tapp.startingDate = app.currentTime();\r\n\tapp.dateInNewTimezone = app.formatter.format(app.startingDate);\r\n\r\n\t// Grabbing hours and minutes in 24 hour format\r\n\tapp.hours = parseInt(app.dateInNewTimezone.slice(8, 11));\r\n\tapp.minutes = parseInt(app.dateInNewTimezone.slice(12, 15));\r\n};\r\n\r\n// Checks if current time is within 9:30am - 4:30pm EST/EDT\r\napp.businessHours = function () {\r\n\treturn (\r\n\t\t(app.hours >= 9 || (app.hours === 9 && app.minutes >= 30)) &&\r\n\t\tapp.hours < 16\r\n\t);\r\n\r\n\t// For opposite market  styling, uncomment code below:\r\n\r\n\t// return (\r\n\t// \t(app.hours <= 9 || (app.hours === 9 && app.minutes <= 30)) &&\r\n\t// \tapp.hours > 16\r\n\t// );\r\n};\r\n\r\n// Checks if it is a weekday or weekend\r\napp.dayOfWeek = app.currentTime().getDay();\r\napp.isWeekend = app.dayOfWeek === 6 || app.dayOfWeek === 0;\r\n\r\n// Checks current market status\r\napp.marketOpen = function () {\r\n\tif (app.isWeekend || !app.businessHours()) {\r\n\t\treturn \"closed\";\r\n\t} else {\r\n\t\treturn \"open\";\r\n\t}\r\n};\r\n\r\n// Populate date/time field on page\r\napp.marketStatusAndTime = function () {\r\n\t$(\".marketStatus\").text(`Market is currently ${app.marketOpen()}.`);\r\n\t$(\".currentTime\").text(`Last refreshed: ${app.dateInNewTimezone}`);\r\n};\r\n\r\n// Condensed function to call all of the above\r\napp.updateTime = function () {\r\n\tapp.currentTime();\r\n\tapp.dateConversion();\r\n\tapp.marketOpen();\r\n\tapp.marketStatusAndTime();\r\n};\r\n\r\n// Formats negative numbers to be displayed wrapped in brackets\r\napp.bracketWrapNegatives = function (num, sym) {\r\n\tif (typeof num == \"undefined\") {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tif (num[0] === \"(\" && num[num.length - 1] === \")\") {\r\n\t\tnum = `-${num.slice(1, num.length - 1)}`;\r\n\t}\r\n\r\n\tif (num[1] === \"$\") {\r\n\t\tnum = num.slice(2);\r\n\t} else if (num[0] === \"$\") {\r\n\t\tnum = num.slice(1);\r\n\t} else if (num[num.length - 1] === \"%\") {\r\n\t\tnum = num.slice(0, num.length - 1);\r\n\t}\r\n\r\n\tnum = parseFloat(num);\r\n\r\n\tif (num < 0) {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `(${sym}${Math.abs(num).toFixed(2)})`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `(${Math.abs(num).toFixed(2)}${sym})`;\r\n\t\t}\r\n\t} else {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `${sym}${num.toFixed(2)}`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `${num.toFixed(2)}${sym}`;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Converts epoch (ms) to current time\r\napp.epochToDate = function (epoch) {\r\n\tif (epoch < 10000000000) epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)\r\n\tvar epoch = epoch + new Date().getTimezoneOffset() * -1; //for timeZone\r\n\thours = new Date(epoch).getHours();\r\n\tminutes = new Date(epoch).getMinutes() + 1;\r\n\r\n\tif (minutes == 60) {\r\n\t\tminutes = \"00\";\r\n\t\thours += 1;\r\n\t} else if (minutes == 5) {\r\n\t\tminutes = \"05\";\r\n\t}\r\n\r\n\ttime = `${hours}:${minutes}`;\r\n\treturn time;\r\n};\r\n\r\n// Init\r\napp.init = function () {\r\n\tthis.getWatchlists();\r\n\tthis.getMovers();\r\n\tthis.getSelectValue();\r\n};\r\n\r\n// DocReady\r\n$(function () {\r\n\tapp.init();\r\n});\r\n"]}