{"version":3,"sources":["script.js"],"names":["app","financeKey","financeHost","summaryURL","symbol","movers","async","crossDomain","url","method","headers","summary","chart","profile","getMovers","moversPromise","$","ajax","then","data","moversObj","gainers","finance","result","losers","mostActive","updateTime","marketOpen","toggleClass","moverSize","quotes","slice","forEach","quote","HTMLtoAppend","append","click","e","preventDefault","val","getSummary","getChart","getProfile","getSelectValue","on","toUpperCase","length","console","log","addClass","removeClass","Swal","fire","title","text","icon","confirmButtonText","timer","timerProgressBar","summaryPromise","values","quoteResponse","validExchanges","exchange","includes","changeCheck","regularMarketChange","valuesObj","longName","previousClosingPrice","regularMarketPreviousClose","openingPrice","regularMarketOpen","price","regularMarketPrice","daysChangeDollars","daysChangePercent","regularMarketChangePercent","regularMarketDayLow","regularMarketDayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","regularMarketVolume","averageVolume10Day","averageDailyVolume10Day","valuesObjEntries","Object","entries","newValuesObjEntries","i","availableValuesObj","availableValuesObjArr","check","populate","pennyStockFormatter","value","toFixed","end","parseFloat","bracketWrapNegatives","toLocaleString","getChartColor","chartColor","chartPromise","chartArr","timeAxis","timestamp","priceAxis","indicators","open","undefined","businessOpenEpoch","arr","epochToDate","businessCloseEpoch","j","start","stop","getBusinessHoursIndex","concatArr","arrA","arrB","map","item","index","timePrice","dataTable","concat","google","charts","load","packages","setOnLoadCallback","drawChart","prices","visualization","arrayToDataTable","options","dateInNewTimezone","hAxis","titleTextStyle","color","textStyle","vAxis","minValue","Math","min","maxValue","max","legend","backgroundColor","chartArea","colors","AreaChart","document","getElementById","draw","window","resize","profilePromise","companyDescription","assetProfile","longBusinessSummary","empty","stopImmediatePropagation","width","currentTime","Date","dateConversion","toLocaleTimeString","day","month","year","hour","minute","second","timeZone","timeZoneName","formatter","Intl","DateTimeFormat","startingDate","format","hours","parseInt","minutes","businessHours","dayOfWeek","getDay","isWeekend","marketStatusAndTime","num","sym","abs","epoch","getTimezoneOffset","getHours","getMinutes","time","init"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["// APP using Yahoo Finance API calls to query various quotes for stocks traded on US exchanges\r\n// Proper error handling to address invalid stock symbols and insufficient\r\n// Displays top movers (% gain/ % loss/ most active by volume)\r\n// Displays updated chart when available\r\n\r\nconst app = {};\r\n\r\n// API information from: https://rapidapi.com/apidojo/api/yahoo-finance1\r\napp.financeKey = \"57edb9d42emsh2e21cedcaa1cecbp1f2a9ajsn8c9fb7947387\";\r\napp.financeHost = \"apidojo-yahoo-finance-v1.p.rapidapi.com\";\r\n\r\napp.summaryURL =\r\n\t\"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes?region=US\";\r\n\r\n// API requires at least one entry to return a summary, AMC chosen as default\r\napp.symbol = \"AMC\";\r\n\r\n// Function to call settings of top movers API call\r\napp.movers = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-movers?region=US&lang=en-US&count=10&start=0\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock summary API call\r\napp.summary = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `${app.summaryURL}&symbols=${app.symbol}`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock chart API call\r\napp.chart = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart?interval=5m&symbol=${app.symbol}&range=1d&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of profile API call\r\napp.profile = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-profile?symbol=${app.symbol}&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// API call for top movers\r\napp.getMovers = function () {\r\n\tconst moversPromise = $.ajax(app.movers());\r\n\treturn moversPromise.then(function (data) {\r\n\t\t// Storing objects of gainers, losers and most active stocks into accessible variables\r\n\t\tconst moversObj = {\r\n\t\t\tgainers: data.finance.result[0],\r\n\t\t\tlosers: data.finance.result[1],\r\n\t\t\tmostActive: data.finance.result[2],\r\n\t\t};\r\n\r\n\t\t// Updates the current time to check if market is open\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Hides most active stocks when market is closed as API returns no data at this time\r\n\t\tif (app.marketOpen() == \"closed\") {\r\n\t\t\t$(\".movers\").toggleClass(\"showMarketClosed\");\r\n\t\t}\r\n\r\n\t\tconst moverSize = 5;\r\n\r\n\t\t// Populates gainers container with buttons\r\n\t\tmoversObj.gainers.quotes.slice(0, moverSize).forEach(function (quote) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"gainer\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t$(\".gainers\").append(HTMLtoAppend);\r\n\t\t});\r\n\r\n\t\t// Populates losers container with buttons\r\n\t\tmoversObj.losers.quotes.slice(0, moverSize).forEach(function (quote) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"loser\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t$(\".losers\").append(HTMLtoAppend);\r\n\t\t});\r\n\r\n\t\t// Toggles CSS class to display gainers and losers\r\n\t\t$(\".gainers\").toggleClass(\"showFlex\");\r\n\t\t$(\".losers\").toggleClass(\"showFlex\");\r\n\r\n\t\t// Checks if market is open to display most active stocks\r\n\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t$(\".mostActive\").toggleClass(\"showFlex\");\r\n\r\n\t\t\t// If market is open, movers container is populated with buttons\r\n\t\t\tmoversObj.mostActive.quotes\r\n\t\t\t\t.slice(0, moverSize)\r\n\t\t\t\t.forEach(function (quote) {\r\n\t\t\t\t\tconst HTMLtoAppend = `<div class=\"mostActiveSymbols\">\r\n                    <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n                </div>`;\r\n\t\t\t\t\t$(\".mostActive\").append(HTMLtoAppend);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Links the buttons to subsequent API calls to pull up summary and chart data\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\t});\r\n};\r\n\r\n// Function to handle and register stock symbol from text input\r\napp.getSelectValue = function () {\r\n\t$(\"form\").on(\"submit\", function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Registers stock symbol from search bar\r\n\t\tapp.symbol = $(\"#symbol\").val().toUpperCase();\r\n\r\n\t\t// Error 1: handling symbols with length of more than 5 characters\r\n\t\tif (app.symbol.length > 5) {\r\n\t\t\tconsole.log(\"Error 1!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${\r\n\t\t\t\t\tapp.symbol\r\n\t\t\t\t} is not a listed US security. Most symbols traded in the US have a symbol length between 1 and 5 characters. Did you mean ${app.symbol.slice(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t5\r\n\t\t\t\t)}?`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 5000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t}\r\n\r\n\t\t// Proceeds to summary and chart API calls if the symbol is within accepted length\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// API call for stock summary\r\napp.getSummary = function () {\r\n\tconst summaryPromise = $.ajax(app.summary());\r\n\treturn summaryPromise.then(function (data) {\r\n\t\t// Storing values in an accessible variable\r\n\t\tvalues = data.quoteResponse.result[0];\r\n\r\n\t\tconsole.log(values);\r\n\r\n\t\t// Error 2: if call returns no values\r\n\t\tif (typeof values === \"undefined\") {\r\n\t\t\tconsole.log(\"Error 2!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Updates market time with each call\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Checks symbol's corresponding exchange to determine if it is a US security\r\n\t\tvalidExchanges = [\r\n\t\t\t\"NYQ\",\r\n\t\t\t\"PNK\",\r\n\t\t\t\"NMS\",\r\n\t\t\t\"YHD\",\r\n\t\t\t\"NCM\",\r\n\t\t\t\"NGM\",\r\n\t\t\t\"ARC\",\r\n\t\t\t\"BATS\",\r\n\t\t\t\"NGS\",\r\n\t\t\t\"OOTC\",\r\n\t\t\t\"OTC\",\r\n\t\t\t\"ASE\",\r\n\t\t];\r\n\t\texchange = values.exchange;\r\n\r\n\t\t// Error 3: handling for instances where certain values are not found\r\n\t\tif (!validExchanges.includes(exchange)) {\r\n\t\t\tconsole.log(\"Error 3!\", exchange);\r\n\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. It trades on ${exchange}. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Begin populating div.values with values\r\n\r\n\t\t\t// Sign of market change stored for later use in chart formatting\r\n\t\t\tapp.changeCheck = values.regularMarketChange;\r\n\r\n\t\t\t// Object to store desired values from successful API call\r\n\t\t\tconst valuesObj = {\r\n\t\t\t\tlongName: values.longName,\r\n\t\t\t\tpreviousClosingPrice: values.regularMarketPreviousClose,\r\n\t\t\t\topeningPrice: values.regularMarketOpen,\r\n\t\t\t\tprice: values.regularMarketPrice,\r\n\t\t\t\tdaysChangeDollars: values.regularMarketChange,\r\n\t\t\t\tdaysChangePercent: values.regularMarketChangePercent,\r\n\t\t\t\tregularMarketDayLow: values.regularMarketDayLow,\r\n\t\t\t\tregularMarketDayHigh: values.regularMarketDayHigh,\r\n\t\t\t\tfiftyTwoWeekLow: values.fiftyTwoWeekLow,\r\n\t\t\t\tfiftyTwoWeekHigh: values.fiftyTwoWeekHigh,\r\n\t\t\t\tregularMarketVolume: values.regularMarketVolume,\r\n\t\t\t\taverageVolume10Day: values.averageDailyVolume10Day,\r\n\t\t\t};\r\n\r\n\t\t\t// Confirming that the call returns all 13 pieces of information using a for loop\r\n\t\t\tconst valuesObjEntries = Object.entries(valuesObj);\r\n\t\t\tconst newValuesObjEntries = Object.entries(valuesObj);\r\n\r\n\t\t\t// If an entry is undefined, its value is changed to 0\r\n\t\t\tfor (i = 0; i < valuesObjEntries.length; i++) {\r\n\t\t\t\tif (typeof valuesObjEntries[i][1] === \"undefined\") {\r\n\t\t\t\t\tnewValuesObjEntries[i][1] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Converting the entries array back into an object\r\n\t\t\tconst availableValuesObj = {\r\n\t\t\t\tlongName: newValuesObjEntries[0][1],\r\n\t\t\t\tpreviousClosingPrice: newValuesObjEntries[1][1],\r\n\t\t\t\topeningPrice: newValuesObjEntries[2][1],\r\n\t\t\t\tprice: newValuesObjEntries[3][1],\r\n\t\t\t\tdaysChangeDollars: newValuesObjEntries[4][1],\r\n\t\t\t\tdaysChangePercent: newValuesObjEntries[5][1],\r\n\t\t\t\tregularMarketDayLow: newValuesObjEntries[6][1],\r\n\t\t\t\tregularMarketDayHigh: newValuesObjEntries[7][1],\r\n\t\t\t\tfiftyTwoWeekLow: newValuesObjEntries[8][1],\r\n\t\t\t\tfiftyTwoWeekHigh: newValuesObjEntries[9][1],\r\n\t\t\t\tregularMarketVolume: newValuesObjEntries[10][1],\r\n\t\t\t\taverageVolume10Day: newValuesObjEntries[11][1],\r\n\t\t\t};\r\n\r\n\t\t\t// Creating an array to check for unavailable data\r\n\t\t\tconst availableValuesObjArr = Object.values(availableValuesObj);\r\n\r\n\t\t\t// Variable to track number of entries that are missing data\r\n\t\t\tapp.check = 0;\r\n\r\n\t\t\tfor (i = 0; i < availableValuesObjArr.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tavailableValuesObjArr[i] === 0 ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"$0.00\" ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"0.00%\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tapp.check += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Error 4: handling symbols with insufficient data\r\n\t\t\t// If the entire array is comprised of the above values, then the symbol is considered inactive\r\n\t\t\tif (app.check == 12) {\r\n\t\t\t\tconsole.log(\"Error 4!\");\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Error!`,\r\n\t\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. Try another symbol.`,\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\t\ttimer: 3000,\r\n\t\t\t\t\ttimerProgressBar: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\t} else {\r\n\t\t\t\t// Populate quotesContent with values\r\n\t\t\t\tapp.populate = function () {\r\n\t\t\t\t\t// Updates current time\r\n\t\t\t\t\tapp.updateTime();\r\n\r\n\t\t\t\t\tapp.pennyStockFormatter = function (value) {\r\n\t\t\t\t\t\tif (typeof value === \"number\") {\r\n\t\t\t\t\t\t\tif (value < 1) {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(3);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = value[value.length - 1];\r\n\t\t\t\t\t\t\tif (value[0] === \"$\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(1)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (value[end] === \"%\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(0, end)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}%`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}%`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Updating variables to correct decimal places\r\n\t\t\t\t\tavailableValuesObj.previousClosingPrice =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.previousClosingPrice\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.openingPrice = app.pennyStockFormatter(\r\n\t\t\t\t\t\tavailableValuesObj.openingPrice\r\n\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangeDollars =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangePercent =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"%\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.price = app.bracketWrapNegatives(\r\n\t\t\t\t\t\tapp.pennyStockFormatter(availableValuesObj.price),\r\n\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Populates longName, previousClosingPrice, openingPrice, daysChangeDollars and daysChangePercent spans\r\n\t\t\t\t\t$(\".longName\").text(availableValuesObj.longName);\r\n\t\t\t\t\t$(\".previousClosingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.previousClosingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".openingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.openingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangeDollars\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangePercent\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to opening price if less than previous close\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.openingPrice) <\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.previousClosingPrice)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t$(\".openingPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the value is left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".openingPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to Day's Change and price if negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the values are left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Populates daysRange, fiftyTwoWeekRange, regularMarketVolume and averageVolume10Day spans\r\n\t\t\t\t\t$(\".daysRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.regularMarketDayLow} - $${availableValuesObj.regularMarketDayHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".fiftyTwoWeekRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.fiftyTwoWeekLow} - $${availableValuesObj.fiftyTwoWeekHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".regularMarketVolume\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.regularMarketVolume.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".averageVolume10Day\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.averageVolume10Day.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Displays quotesContent and sets symbol\r\n\t\t\t\t\t$(\"#quotesContent\").addClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Check whether market is open to display either \"Current Price: \" or \"Close: \"\r\n\t\t\t\t// Market open response:\r\n\t\t\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t\t\tapp.populate();\r\n\r\n\t\t\t\t\t$(\".regularMarketPrice\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.price}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Market closed response:\r\n\t\t\t\telse {\r\n\t\t\t\t\tapp.populate();\r\n\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".regularMarketPriceHeader\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".closePrice\").text(`${availableValuesObj.price}`);\r\n\t\t\t\t\t$(\".closeHeader\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".closeHeader\").addClass(\"show\");\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to close price if day's change was negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".closePrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\".closePrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// // Queries day's change to determine whether chart is displayed in red (-ve change) or green (+ve change)\r\napp.getChartColor = function () {\r\n\tapp.chartColor = \"green\";\r\n\r\n\tif (app.changeCheck < 0) {\r\n\t\tapp.chartColor = \"red\";\r\n\t}\r\n};\r\n\r\n// API call for stock chart\r\napp.getChart = function () {\r\n\tconst chartPromise = $.ajax(app.chart());\r\n\tchartPromise.then(function (data) {\r\n\t\t// Run here in an attempt to make the color change more responsive to quick switches between red and green graphs\r\n\t\tapp.getChartColor();\r\n\r\n\t\tconst chartArr = data.chart.result[0];\r\n\t\ttimeAxis = chartArr.timestamp;\r\n\t\tpriceAxis = chartArr.indicators.quote[0].open;\r\n\r\n\t\t// Error 5: handling symbols with summary data but no graph data\r\n\t\tif (timeAxis == undefined && app.getSummary()) {\r\n\t\t\tconsole.log(\"Error 5!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} does not have updated chart information.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\t// Error 6: handling symbols without graph timestamp, price or summary data\r\n\t\telse if (timeAxis == (undefined || null)) {\r\n\t\t\tconsole.log(\"Error 6!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. It may have been delisted. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Preparing the page for the addition of summary and graph data, and clearing any errors\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t}\r\n\r\n\t\t// Finds index of array corresponding to 9:30am timestamp\r\n\t\tbusinessOpenEpoch = function (arr) {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (app.epochToDate(arr[i]) === \"9:30\") {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Finds index of array corresponding to either current time if the market is open or the 4:05pm timestamp if the market is closed.\r\n\t\t// This is used as the end index when querying the price data for the graph\r\n\t\tbusinessCloseEpoch = function (arr) {\r\n\t\t\tfor (j = 0; j < arr.length; j++) {\r\n\t\t\t\tif (app.epochToDate(arr[j]) === \"16:05\") {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t} else if (j === arr.length) {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Setting the variables for start and stop index of the time and price arrays\r\n\t\tconst start = businessOpenEpoch(timeAxis);\r\n\t\tconst stop = businessCloseEpoch(timeAxis);\r\n\r\n\t\t// Returns the data from indices within our desired range of 9:30am -> current time or 4:00pm\r\n\t\tgetBusinessHoursIndex = function (arr) {\r\n\t\t\treturn arr.slice(start, stop);\r\n\t\t};\r\n\r\n\t\ttimeAxis = getBusinessHoursIndex(timeAxis);\r\n\r\n\t\t// Converts the array of epoch to local time string (ex: \"9:30\",\"16:00\")\r\n\t\tfor (i = 0; i < timeAxis.length; i++) {\r\n\t\t\ttimeAxis[i] = app.epochToDate(timeAxis[i]);\r\n\t\t}\r\n\r\n\t\t// Error 7: handling arrays that contain incomplete data from entire business day\r\n\t\tif (app.marketOpen() == \"closed\" && timeAxis.length < 75) {\r\n\t\t\tconsole.log(\"Error 7!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing chart data for parts of the regular market open.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\tpriceAxis = getBusinessHoursIndex(priceAxis);\r\n\r\n\t\t// Formats the available price data into either 4 decimals (for stocks under $1) or 2 decimals\r\n\t\tfor (i = 0; i < priceAxis.length; i++) {\r\n\t\t\tif (priceAxis[i] === null) {\r\n\t\t\t\tpriceAxis[i] = priceAxis[i - 1];\r\n\t\t\t} else if (priceAxis[i] < 1.0) {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(4));\r\n\t\t\t} else {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(2));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Creates a 2D array by concatenating the timeAxis and priceAxis arrays\r\n\t\t// This is needed to format the dataTable used to display the graph in Google Charts\r\n\t\tconcatArr = function (arrA, arrB) {\r\n\t\t\treturn arrA.map((item, index) => [item, arrB[index]]);\r\n\t\t};\r\n\r\n\t\ttimePrice = concatArr(timeAxis, priceAxis);\r\n\r\n\t\t// Adds a top row to the 2D array containing the title \"Time\" and the symbol of the stock\r\n\t\tdataTable = [[\"Time\", `${app.symbol}`]].concat(timePrice);\r\n\r\n\t\t// Loads the chart\r\n\t\tgoogle.charts.load(\"current\", { packages: [\"corechart\"] });\r\n\t\tgoogle.charts.setOnLoadCallback(drawChart);\r\n\r\n\t\t// Draws the chart\r\n\t\tfunction drawChart() {\r\n\r\n\t\t\tconst prices = google.visualization.arrayToDataTable(dataTable);\r\n\r\n\t\t\t// Formatting options for graph\r\n\t\t\toptions = {\r\n\t\t\t\ttitle: `${app.symbol} - ${app.dateInNewTimezone}`,\r\n\r\n\t\t\t\thAxis: {\r\n\t\t\t\t\ttitle: \"Time\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tvAxis: {\r\n\t\t\t\t\tminValue: Math.min(priceAxis) - 5,\r\n\t\t\t\t\tmaxValue: Math.max(priceAxis) + 5,\r\n\t\t\t\t\ttitle: \"Price\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlegend: { textStyle: { color: \"white\" } },\r\n\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\tbackgroundColor: \"black\",\r\n\t\t\t\tchartArea: { backgroundColor: \"black\" },\r\n\t\t\t\tcolors: [`${app.chartColor}`],\r\n\t\t\t};\r\n\r\n\t\t\t// Calling graph\r\n\t\t\tconst chart = new google.visualization.AreaChart(\r\n\t\t\t\tdocument.getElementById(\"graph\")\r\n\t\t\t);\r\n\t\t\tchart.draw(prices, options);\r\n\t\t}\r\n\t\t$(window).resize(function () {\r\n\t\t\tdrawChart();\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getProfile = function () {\r\n\tconst profilePromise = $.ajax(app.profile());\r\n\tprofilePromise.then(function (data) {\r\n\t\tconsole.log(data);\r\n\t\tapp.companyDescription = data.assetProfile.longBusinessSummary;\r\n\t\tconsole.log(app.companyDescription);\r\n\r\n\t\tif (app.companyDescription === undefined) {\r\n\t\t\t$(\".profileInformation\").addClass(\"hidden\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing information from its profile.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t} else {\r\n\t\t\t$(\".profileInformation\").empty();\r\n\r\n\t\t\t// Populates profileInformation container\r\n\t\t\tconst HTMLtoAppend = `<button class=\"getProfile\" value=${app.symbol}>View Profile</button>`;\r\n\t\t\t$(\".profileInformation\").append(HTMLtoAppend);\r\n\r\n\t\t\t// Displays profile\r\n\t\t\t$(\".profileInformation\").on(\"click\", function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Profile for ${app.symbol}:`,\r\n\t\t\t\t\ttext: app.companyDescription,\r\n\t\t\t\t\ticon: \"info\",\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\tconfirmButtonText: \"Return to Quote\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Helper functions\r\n\r\n// Checks current time to verify whether market is open or closed\r\napp.currentTime = function () {\r\n\treturn new Date();\r\n};\r\n\r\n// Converts date to format usable for other calculations ()\r\napp.dateConversion = function () {\r\n\tapp.currentTime.toLocaleTimeString;\r\n\r\n\t// Options to return time in EST/EDT\r\n\tapp.options = {\r\n\t\tday: \"2-digit\",\r\n\t\tmonth: \"2-digit\",\r\n\t\tyear: \"2-digit\",\r\n\t\thour: \"2-digit\",\r\n\t\tminute: \"2-digit\",\r\n\t\tsecond: \"2-digit\",\r\n\t\ttimeZone: \"America/New_York\",\r\n\t\ttimeZoneName: \"short\",\r\n\t};\r\n\r\n\t// Converts local time to EST/EDT\r\n\tapp.formatter = new Intl.DateTimeFormat(\"sv-SE\", app.options);\r\n\tapp.startingDate = app.currentTime();\r\n\tapp.dateInNewTimezone = app.formatter.format(app.startingDate);\r\n\r\n\t// Grabbing hours and minutes in 24 hour format\r\n\tapp.hours = parseInt(app.dateInNewTimezone.slice(8, 11));\r\n\tapp.minutes = parseInt(app.dateInNewTimezone.slice(12, 15));\r\n};\r\n\r\n// Checks if current time is within 9:30am - 4:30pm EST/EDT\r\napp.businessHours = function () {\r\n\treturn (app.hours >= 9 && app.minutes >= 30) || app.hours <= 16;\r\n\r\n\t// For market closed styling, uncomment code below:\r\n\t// return (app.hours < 9 && app.minutes < 30) || app.hours > 16;\r\n};\r\n\r\n// Checks if it is a weekday or weekend\r\napp.dayOfWeek = app.currentTime().getDay();\r\napp.isWeekend = app.dayOfWeek === 6 || app.dayOfWeek === 0;\r\n\r\n// Checks current market status\r\napp.marketOpen = function () {\r\n\tif (app.isWeekend || !app.businessHours()) {\r\n\t\treturn \"closed\";\r\n\t} else {\r\n\t\treturn \"open\";\r\n\t}\r\n};\r\n\r\n// Populate date/time field on page\r\napp.marketStatusAndTime = function () {\r\n\t$(\".marketStatus\").text(`Market is currently ${app.marketOpen()}.`);\r\n\t$(\".currentTime\").text(`Last refreshed: ${app.dateInNewTimezone}`);\r\n};\r\n\r\n// Condensed function to call all of the above\r\napp.updateTime = function () {\r\n\tapp.currentTime();\r\n\tapp.dateConversion();\r\n\tapp.marketOpen();\r\n\tapp.marketStatusAndTime();\r\n};\r\n\r\n// Formats negative numbers to be displayed wrapped in brackets\r\napp.bracketWrapNegatives = function (num, sym) {\r\n\tif (typeof num == \"undefined\") {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tif (num[0] === \"(\" && num[num.length - 1] === \")\") {\r\n\t\tnum = `-${num.slice(1, num.length - 1)}`;\r\n\t}\r\n\r\n\tif (num[1] === \"$\") {\r\n\t\tnum = num.slice(2);\r\n\t} else if (num[0] === \"$\") {\r\n\t\tnum = num.slice(1);\r\n\t} else if (num[num.length - 1] === \"%\") {\r\n\t\tnum = num.slice(0, num.length - 1);\r\n\t}\r\n\r\n\tnum = parseFloat(num);\r\n\r\n\tif (num < 0) {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `(${sym}${Math.abs(num).toFixed(2)})`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `(${Math.abs(num).toFixed(2)}${sym})`;\r\n\t\t}\r\n\t} else {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `${sym}${num.toFixed(2)}`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `${num.toFixed(2)}${sym}`;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Converts epoch (ms) to current time\r\napp.epochToDate = function (epoch) {\r\n\tif (epoch < 10000000000) epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)\r\n\tvar epoch = epoch + new Date().getTimezoneOffset() * -1; //for timeZone\r\n\thours = new Date(epoch).getHours();\r\n\tminutes = new Date(epoch).getMinutes() + 1;\r\n\r\n\tif (minutes == 60) {\r\n\t\tminutes = \"00\";\r\n\t\thours += 1;\r\n\t} else if (minutes == 5) {\r\n\t\tminutes = \"05\";\r\n\t}\r\n\r\n\ttime = `${hours}:${minutes}`;\r\n\treturn time;\r\n};\r\n\r\n// Init\r\napp.init = function () {\r\n\tthis.getMovers();\r\n\tthis.getSelectValue();\r\n};\r\n\r\n// DocReady\r\n$(function () {\r\n\tapp.init();\r\n});\r\n"]}