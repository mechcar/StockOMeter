{"version":3,"sources":["script.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["app","financeKey","financeHost","summaryURL","symbol","movers","async","crossDomain","url","method","headers","news","watchlists","summary","chart","profile","getMovers","moversPromise","$","ajax","then","data","moversObj","gainers","finance","result","losers","mostActive","updateTime","marketOpen","toggleClass","moverSize","quotes","slice","forEach","quote","HTMLtoAppend","append","click","e","preventDefault","val","getSummary","getChart","getProfile","getNews","newsPromise","res","contents","content","articleTitle","title","articleSummary","articleTickers","stockTickers","articleLink","canonicalUrl","text","attr","addClass","removeClass","getWatchlists","watchlistsPromise","portfolios","splice","console","log","watchlist","name","pfId","stopImmediatePropagation","Swal","fire","html","description","icon","width","confirmButtonText","getSelectValue","on","toUpperCase","length","timer","timerProgressBar","summaryPromise","values","quoteResponse","validExchanges","exchange","includes","changeCheck","regularMarketChange","valuesObj","longName","previousClosingPrice","regularMarketPreviousClose","openingPrice","regularMarketOpen","price","regularMarketPrice","daysChangeDollars","daysChangePercent","regularMarketChangePercent","regularMarketDayLow","regularMarketDayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","regularMarketVolume","averageVolume10Day","averageDailyVolume10Day","valuesObjEntries","Object","entries","newValuesObjEntries","i","availableValuesObj","availableValuesObjArr","check","populate","pennyStockFormatter","value","toFixed","end","parseFloat","bracketWrapNegatives","toLocaleString","getChartColor","chartColor","chartPromise","chartArr","timeAxis","timestamp","priceAxis","indicators","open","undefined","businessOpenEpoch","arr","epochToDate","businessCloseEpoch","j","start","stop","getBusinessHoursIndex","concatArr","arrA","arrB","map","item","index","timePrice","dataTable","concat","google","charts","load","packages","setOnLoadCallback","drawChart","prices","visualization","arrayToDataTable","options","dateInNewTimezone","hAxis","titleTextStyle","color","textStyle","vAxis","minValue","Math","min","maxValue","max","legend","backgroundColor","chartArea","colors","AreaChart","document","getElementById","draw","window","resize","profilePromise","companyDescription","assetProfile","longBusinessSummary","empty","currentTime","Date","dateConversion","toLocaleTimeString","day","month","year","hour","minute","second","timeZone","timeZoneName","formatter","Intl","DateTimeFormat","startingDate","format","hours","parseInt","minutes","businessHours","dayOfWeek","getDay","isWeekend","marketStatusAndTime","num","sym","abs","epoch","getTimezoneOffset","getHours","getMinutes","time","init","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["// APP using Yahoo Finance API calls to query various quotes for stocks traded on US exchanges\r\n// Proper error handling to address invalid stock symbols and insufficient\r\n// Displays top movers (% gain/ % loss/ most active by volume)\r\n// Displays updated chart when available\r\n\r\nconst app = {};\r\n\r\n// API information from: https://rapidapi.com/apidojo/api/yahoo-finance1\r\napp.financeKey = \"57edb9d42emsh2e21cedcaa1cecbp1f2a9ajsn8c9fb7947387\";\r\napp.financeHost = \"apidojo-yahoo-finance-v1.p.rapidapi.com\";\r\n\r\napp.summaryURL =\r\n\t\"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes?region=US\";\r\n\r\n// API requires at least one entry to return a summary, AMC chosen as default\r\napp.symbol = \"1\";\r\n\r\n// Function to call settings of top movers API call\r\napp.movers = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-movers?region=US&lang=en-US&count=10&start=0\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\napp.news = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/news/v2/get-details?uuid=9803606d-a324-3864-83a8-2bd621e6ccbd&region=US\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\napp.watchlists = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/get-popular-watchlists\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock summary API call\r\napp.summary = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `${app.summaryURL}&symbols=${app.symbol}`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock chart API call\r\napp.chart = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart?interval=5m&symbol=${app.symbol}&range=1d&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of profile API call\r\napp.profile = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-profile?symbol=${app.symbol}&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// API call for top movers\r\napp.getMovers = function () {\r\n\tconst moversPromise = $.ajax(app.movers());\r\n\treturn moversPromise.then(function (data) {\r\n\t\t// Storing objects of gainers, losers and most active stocks into accessible variables\r\n\t\tconst moversObj = {\r\n\t\t\tgainers: data.finance.result[0],\r\n\t\t\tlosers: data.finance.result[1],\r\n\t\t\tmostActive: data.finance.result[2],\r\n\t\t};\r\n\r\n\t\t// Updates the current time to check if market is open\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Hides most active stocks when market is closed as API returns no data at this time\r\n\t\tif (app.marketOpen() == \"closed\") {\r\n\t\t\t$(\".movers\").toggleClass(\"showMarketClosed\");\r\n\t\t}\r\n\r\n\t\tapp.moverSize = 6;\r\n\r\n\t\t// Populates gainers container with buttons\r\n\t\tmoversObj.gainers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"gainer\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".gainers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Populates losers container with buttons\r\n\t\tmoversObj.losers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"loser\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".losers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Toggles CSS class to display gainers and losers\r\n\t\t$(\".gainers\").toggleClass(\"show\");\r\n\t\t$(\".gainersTitle\").toggleClass(\"show\");\r\n\t\t$(\".losers\").toggleClass(\"show\");\r\n\t\t$(\".losersTitle\").toggleClass(\"show\");\r\n\r\n\t\t// Checks if market is open to display most active stocks\r\n\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t$(\".mostActive\").toggleClass(\"show\");\r\n\t\t\t$(\".mostActiveTitle\").toggleClass(\"show\");\r\n\r\n\t\t\t// If market is open, movers container is populated with buttons\r\n\t\t\tmoversObj.mostActive.quotes\r\n\t\t\t\t.slice(0, app.moverSize)\r\n\t\t\t\t.forEach(function (quote) {\r\n\t\t\t\t\tconst HTMLtoAppend = `<div class=\"mostActiveSymbols\">\r\n                    <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n                </div>`;\r\n\t\t\t\t\t$(\".mostActive\").append(HTMLtoAppend);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Links the buttons to subsequent API calls to pull up summary and chart data\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\t});\r\n};\r\n\r\n// API call for top movers\r\napp.getNews = function () {\r\n\tconst newsPromise = $.ajax(app.news());\r\n\treturn newsPromise.then(function (res) {\r\n\t\tcontents = res.data.contents[0].content;\r\n\t\tarticleTitle = contents.title;\r\n\t\tarticleSummary = contents.summary;\r\n\t\tarticleTickers = contents.finance.stockTickers;\r\n\t\tarticleLink = contents.canonicalUrl.url;\r\n\r\n\t\t$(\".articleTitle\").text(articleTitle);\r\n\t\tarticleTickers.forEach(function (quote) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"articleTicker\">\r\n                <button id=\"articleSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t$(\".articleTickers\").append(HTMLtoAppend);\r\n\t\t});\r\n\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\r\n\t\t$(\".articleSummary\").text(articleSummary);\r\n\t\t$(\".articleLink\").attr(\"href\", articleLink);\r\n\t\t$(\"#news\").addClass(\"show\");\r\n\t\t$(\"#news\").removeClass(\"hidden\");\r\n\t});\r\n};\r\n\r\napp.getWatchlists = function () {\r\n\tconst watchlistsPromise = $.ajax(app.watchlists());\r\n\treturn watchlistsPromise.then(function (res) {\r\n\t\twatchlists = res.finance.result[0].portfolios.splice(0, 5);\r\n\t\tconsole.log(watchlists);\r\n\r\n\t\twatchlists.forEach(function (watchlist) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"popularWatchlist\">\r\n\t\t\t\t<h3>${watchlist.name}</h3>\r\n\t\t\t\t<button class='watchlistProfile' id=${watchlist.pfId}>Read More</button>\r\n            </div>`;\r\n\t\t\t$(\".watchlistsContainer\").append(HTMLtoAppend);\r\n\t\t\t$(\".watchlistProfile\").click(function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle:  watchlist.name,\r\n\t\t\t\t\ttext: $(\"<div>\").html(watchlist.description).text(),\r\n\t\t\t\t\ticon: \"info\",\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\tconfirmButtonText: \"Return to Watchlists\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$(\"#watchlists\").addClass(\"show\");\r\n\t\t$(\"#watchlists\").removeClass(\"hidden\");\r\n\t});\r\n};\r\n\r\n// Function to handle and register stock symbol from text input\r\napp.getSelectValue = function () {\r\n\t$(\"form\").on(\"submit\", function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Registers stock symbol from search bar\r\n\t\tapp.symbol = $(\"#symbol\").val().toUpperCase();\r\n\r\n\t\t// Error 1: handling symbols with length of more than 5 characters\r\n\t\tif (app.symbol.length > 5) {\r\n\t\t\tconsole.log(\"Error 1!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${\r\n\t\t\t\t\tapp.symbol\r\n\t\t\t\t} is not a listed US security. Most symbols traded in the US have a symbol length between 1 and 5 characters. Did you mean ${app.symbol.slice(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t5\r\n\t\t\t\t)}?`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 5000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t}\r\n\r\n\t\t// Proceeds to summary and chart API calls if the symbol is within accepted length\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// API call for stock summary\r\napp.getSummary = function () {\r\n\tconst summaryPromise = $.ajax(app.summary());\r\n\treturn summaryPromise.then(function (data) {\r\n\t\t// Storing values in an accessible variable\r\n\t\tvalues = data.quoteResponse.result[0];\r\n\r\n\t\t// Error 2: if call returns no values\r\n\t\tif (typeof values === \"undefined\") {\r\n\t\t\tconsole.log(\"Error 2!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Updates market time with each call\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Checks symbol's corresponding exchange to determine if it is a US security\r\n\t\tvalidExchanges = [\r\n\t\t\t\"NYQ\",\r\n\t\t\t\"PNK\",\r\n\t\t\t\"NMS\",\r\n\t\t\t\"YHD\",\r\n\t\t\t\"NCM\",\r\n\t\t\t\"NGM\",\r\n\t\t\t\"ARC\",\r\n\t\t\t\"BATS\",\r\n\t\t\t\"NGS\",\r\n\t\t\t\"OOTC\",\r\n\t\t\t\"OTC\",\r\n\t\t\t\"ASE\",\r\n\t\t];\r\n\t\texchange = values.exchange;\r\n\r\n\t\t// Error 3: handling for instances where certain values are not found\r\n\t\tif (!validExchanges.includes(exchange)) {\r\n\t\t\tconsole.log(\"Error 3!\", exchange);\r\n\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. It trades on ${exchange}. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Begin populating div.values with values\r\n\r\n\t\t\t// Sign of market change stored for later use in chart formatting\r\n\t\t\tapp.changeCheck = values.regularMarketChange;\r\n\r\n\t\t\t// Object to store desired values from successful API call\r\n\t\t\tconst valuesObj = {\r\n\t\t\t\tlongName: values.longName,\r\n\t\t\t\tpreviousClosingPrice: values.regularMarketPreviousClose,\r\n\t\t\t\topeningPrice: values.regularMarketOpen,\r\n\t\t\t\tprice: values.regularMarketPrice,\r\n\t\t\t\tdaysChangeDollars: values.regularMarketChange,\r\n\t\t\t\tdaysChangePercent: values.regularMarketChangePercent,\r\n\t\t\t\tregularMarketDayLow: values.regularMarketDayLow,\r\n\t\t\t\tregularMarketDayHigh: values.regularMarketDayHigh,\r\n\t\t\t\tfiftyTwoWeekLow: values.fiftyTwoWeekLow,\r\n\t\t\t\tfiftyTwoWeekHigh: values.fiftyTwoWeekHigh,\r\n\t\t\t\tregularMarketVolume: values.regularMarketVolume,\r\n\t\t\t\taverageVolume10Day: values.averageDailyVolume10Day,\r\n\t\t\t};\r\n\r\n\t\t\t// Confirming that the call returns all 13 pieces of information using a for loop\r\n\t\t\tconst valuesObjEntries = Object.entries(valuesObj);\r\n\t\t\tconst newValuesObjEntries = Object.entries(valuesObj);\r\n\r\n\t\t\t// If an entry is undefined, its value is changed to 0\r\n\t\t\tfor (i = 0; i < valuesObjEntries.length; i++) {\r\n\t\t\t\tif (typeof valuesObjEntries[i][1] === \"undefined\") {\r\n\t\t\t\t\tnewValuesObjEntries[i][1] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Converting the entries array back into an object\r\n\t\t\tconst availableValuesObj = {\r\n\t\t\t\tlongName: newValuesObjEntries[0][1],\r\n\t\t\t\tpreviousClosingPrice: newValuesObjEntries[1][1],\r\n\t\t\t\topeningPrice: newValuesObjEntries[2][1],\r\n\t\t\t\tprice: newValuesObjEntries[3][1],\r\n\t\t\t\tdaysChangeDollars: newValuesObjEntries[4][1],\r\n\t\t\t\tdaysChangePercent: newValuesObjEntries[5][1],\r\n\t\t\t\tregularMarketDayLow: newValuesObjEntries[6][1],\r\n\t\t\t\tregularMarketDayHigh: newValuesObjEntries[7][1],\r\n\t\t\t\tfiftyTwoWeekLow: newValuesObjEntries[8][1],\r\n\t\t\t\tfiftyTwoWeekHigh: newValuesObjEntries[9][1],\r\n\t\t\t\tregularMarketVolume: newValuesObjEntries[10][1],\r\n\t\t\t\taverageVolume10Day: newValuesObjEntries[11][1],\r\n\t\t\t};\r\n\r\n\t\t\t// Creating an array to check for unavailable data\r\n\t\t\tconst availableValuesObjArr = Object.values(availableValuesObj);\r\n\r\n\t\t\t// Variable to track number of entries that are missing data\r\n\t\t\tapp.check = 0;\r\n\r\n\t\t\tfor (i = 0; i < availableValuesObjArr.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tavailableValuesObjArr[i] === 0 ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"$0.00\" ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"0.00%\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tapp.check += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Error 4: handling symbols with insufficient data\r\n\t\t\t// If the entire array is comprised of the above values, then the symbol is considered inactive\r\n\t\t\tif (app.check == 12) {\r\n\t\t\t\tconsole.log(\"Error 4!\");\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Error!`,\r\n\t\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. Try another symbol.`,\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\t\ttimer: 3000,\r\n\t\t\t\t\ttimerProgressBar: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\t} else {\r\n\t\t\t\t// Populate quotesContent with values\r\n\t\t\t\tapp.populate = function () {\r\n\t\t\t\t\t// Updates current time\r\n\t\t\t\t\tapp.updateTime();\r\n\r\n\t\t\t\t\tapp.pennyStockFormatter = function (value) {\r\n\t\t\t\t\t\tif (typeof value === \"number\") {\r\n\t\t\t\t\t\t\tif (value < 1) {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(3);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = value[value.length - 1];\r\n\t\t\t\t\t\t\tif (value[0] === \"$\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(1)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (value[end] === \"%\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(0, end)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}%`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}%`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Updating variables to correct decimal places\r\n\t\t\t\t\tavailableValuesObj.previousClosingPrice =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.previousClosingPrice\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.openingPrice = app.pennyStockFormatter(\r\n\t\t\t\t\t\tavailableValuesObj.openingPrice\r\n\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangeDollars =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangePercent =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"%\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.price = app.bracketWrapNegatives(\r\n\t\t\t\t\t\tapp.pennyStockFormatter(availableValuesObj.price),\r\n\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Populates longName, previousClosingPrice, openingPrice, daysChangeDollars and daysChangePercent spans\r\n\t\t\t\t\t$(\".longName\").text(availableValuesObj.longName);\r\n\t\t\t\t\t$(\".previousClosingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.previousClosingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".openingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.openingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangeDollars\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangePercent\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to opening price if less than previous close\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.openingPrice) <\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.previousClosingPrice)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t$(\".openingPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the value is left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".openingPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to Day's Change and price if negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the values are left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Populates daysRange, fiftyTwoWeekRange, regularMarketVolume and averageVolume10Day spans\r\n\t\t\t\t\t$(\".daysRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.regularMarketDayLow} - $${availableValuesObj.regularMarketDayHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".fiftyTwoWeekRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.fiftyTwoWeekLow} - $${availableValuesObj.fiftyTwoWeekHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".regularMarketVolume\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.regularMarketVolume.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".averageVolume10Day\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.averageVolume10Day.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Hides news, displays quotesContent and sets symbol\r\n\t\t\t\t\t$(\"#news\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\"#news\").removeClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").addClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Check whether market is open to display either \"Current Price: \" or \"Close: \"\r\n\t\t\t\t// Market open response:\r\n\t\t\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t\t\tapp.populate();\r\n\r\n\t\t\t\t\t$(\".regularMarketPrice\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.price}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Market closed response:\r\n\t\t\t\telse {\r\n\t\t\t\t\tapp.populate();\r\n\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".regularMarketPriceHeader\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".closePrice\").text(`${availableValuesObj.price}`);\r\n\t\t\t\t\t$(\".closeHeader\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".closeHeader\").addClass(\"show\");\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to close price if day's change was negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".closePrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\".closePrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// // Queries day's change to determine whether chart is displayed in red (-ve change) or green (+ve change)\r\napp.getChartColor = function () {\r\n\tapp.chartColor = \"green\";\r\n\r\n\tif (app.changeCheck < 0) {\r\n\t\tapp.chartColor = \"red\";\r\n\t}\r\n};\r\n\r\n// API call for stock chart\r\napp.getChart = function () {\r\n\tconst chartPromise = $.ajax(app.chart());\r\n\tchartPromise.then(function (data) {\r\n\t\t// Run here in an attempt to make the color change more responsive to quick switches between red and green graphs\r\n\t\tapp.getChartColor();\r\n\r\n\t\tconst chartArr = data.chart.result[0];\r\n\t\ttimeAxis = chartArr.timestamp;\r\n\t\tpriceAxis = chartArr.indicators.quote[0].open;\r\n\r\n\t\t// Error 5: handling symbols with summary data but no graph data\r\n\t\tif (timeAxis == undefined && app.getSummary()) {\r\n\t\t\tconsole.log(\"Error 5!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} does not have updated chart information.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\t// Error 6: handling symbols without graph timestamp, price or summary data\r\n\t\telse if (timeAxis == (undefined || null)) {\r\n\t\t\tconsole.log(\"Error 6!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. It may have been delisted. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Preparing the page for the addition of summary and graph data, and clearing any errors\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t}\r\n\r\n\t\t// Finds index of array corresponding to 9:30am timestamp\r\n\t\tbusinessOpenEpoch = function (arr) {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (app.epochToDate(arr[i]) === \"9:30\") {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Finds index of array corresponding to either current time if the market is open or the 4:05pm timestamp if the market is closed.\r\n\t\t// This is used as the end index when querying the price data for the graph\r\n\t\tbusinessCloseEpoch = function (arr) {\r\n\t\t\tfor (j = 0; j < arr.length; j++) {\r\n\t\t\t\tif (app.epochToDate(arr[j]) === \"16:05\") {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t} else if (j === arr.length) {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Setting the variables for start and stop index of the time and price arrays\r\n\t\tconst start = businessOpenEpoch(timeAxis);\r\n\t\tconst stop = businessCloseEpoch(timeAxis);\r\n\r\n\t\t// Returns the data from indices within our desired range of 9:30am -> current time or 4:00pm\r\n\t\tgetBusinessHoursIndex = function (arr) {\r\n\t\t\treturn arr.slice(start, stop);\r\n\t\t};\r\n\r\n\t\ttimeAxis = getBusinessHoursIndex(timeAxis);\r\n\r\n\t\t// Converts the array of epoch to local time string (ex: \"9:30\",\"16:00\")\r\n\t\tfor (i = 0; i < timeAxis.length; i++) {\r\n\t\t\ttimeAxis[i] = app.epochToDate(timeAxis[i]);\r\n\t\t}\r\n\r\n\t\t// Error 7: handling arrays that contain incomplete data from entire business day\r\n\t\tif (app.marketOpen() == \"closed\" && timeAxis.length < 75) {\r\n\t\t\tconsole.log(\"Error 7!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing chart data for parts of the regular market open.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\tpriceAxis = getBusinessHoursIndex(priceAxis);\r\n\r\n\t\t// Formats the available price data into either 4 decimals (for stocks under $1) or 2 decimals\r\n\t\tfor (i = 0; i < priceAxis.length; i++) {\r\n\t\t\tif (priceAxis[i] === null) {\r\n\t\t\t\tpriceAxis[i] = priceAxis[i - 1];\r\n\t\t\t} else if (priceAxis[i] < 1.0) {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(4));\r\n\t\t\t} else {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(2));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Creates a 2D array by concatenating the timeAxis and priceAxis arrays\r\n\t\t// This is needed to format the dataTable used to display the graph in Google Charts\r\n\t\tconcatArr = function (arrA, arrB) {\r\n\t\t\treturn arrA.map((item, index) => [item, arrB[index]]);\r\n\t\t};\r\n\r\n\t\ttimePrice = concatArr(timeAxis, priceAxis);\r\n\r\n\t\t// Adds a top row to the 2D array containing the title \"Time\" and the symbol of the stock\r\n\t\tdataTable = [[\"Time\", `${app.symbol}`]].concat(timePrice);\r\n\r\n\t\t// Loads the chart\r\n\t\tgoogle.charts.load(\"current\", { packages: [\"corechart\"] });\r\n\t\tgoogle.charts.setOnLoadCallback(drawChart);\r\n\r\n\t\t// Draws the chart\r\n\t\tfunction drawChart() {\r\n\t\t\tconst prices = google.visualization.arrayToDataTable(dataTable);\r\n\r\n\t\t\t// Formatting options for graph\r\n\t\t\toptions = {\r\n\t\t\t\ttitle: `${app.symbol} - ${app.dateInNewTimezone}`,\r\n\r\n\t\t\t\thAxis: {\r\n\t\t\t\t\ttitle: \"Time\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tvAxis: {\r\n\t\t\t\t\tminValue: Math.min(priceAxis) - 5,\r\n\t\t\t\t\tmaxValue: Math.max(priceAxis) + 5,\r\n\t\t\t\t\ttitle: \"Price\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlegend: { textStyle: { color: \"white\" } },\r\n\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\tbackgroundColor: \"black\",\r\n\t\t\t\tchartArea: { backgroundColor: \"black\" },\r\n\t\t\t\tcolors: [`${app.chartColor}`],\r\n\t\t\t};\r\n\r\n\t\t\t// Calling graph\r\n\t\t\tconst chart = new google.visualization.AreaChart(\r\n\t\t\t\tdocument.getElementById(\"graph\")\r\n\t\t\t);\r\n\t\t\tchart.draw(prices, options);\r\n\t\t}\r\n\t\t$(window).resize(function () {\r\n\t\t\tdrawChart();\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getProfile = function () {\r\n\tconst profilePromise = $.ajax(app.profile());\r\n\tprofilePromise.then(function (data) {\r\n\t\tapp.companyDescription = data.assetProfile.longBusinessSummary;\r\n\r\n\t\tif (app.companyDescription === undefined) {\r\n\t\t\t$(\".profileInformation\").addClass(\"hidden\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing information from its profile.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t} else {\r\n\t\t\t$(\".profileInformation\").empty();\r\n\r\n\t\t\t// Populates profileInformation container\r\n\t\t\tconst HTMLtoAppend = `<button class=\"getProfile\" value=${app.symbol}>View Profile</button>`;\r\n\t\t\t$(\".profileInformation\").append(HTMLtoAppend);\r\n\r\n\t\t\t// Displays profile\r\n\t\t\t$(\".profileInformation\").on(\"click\", function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Profile for ${app.symbol}:`,\r\n\t\t\t\t\ttext: app.companyDescription,\r\n\t\t\t\t\ticon: \"info\",\r\n\t\t\t\t\twidth: 600,\r\n\t\t\t\t\tconfirmButtonText: \"Return to Quote\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Helper functions\r\n\r\n// Checks current time to verify whether market is open or closed\r\napp.currentTime = function () {\r\n\treturn new Date();\r\n};\r\n\r\n// Converts date to format usable for other calculations ()\r\napp.dateConversion = function () {\r\n\tapp.currentTime.toLocaleTimeString;\r\n\r\n\t// Options to return time in EST/EDT\r\n\tapp.options = {\r\n\t\tday: \"2-digit\",\r\n\t\tmonth: \"2-digit\",\r\n\t\tyear: \"2-digit\",\r\n\t\thour: \"2-digit\",\r\n\t\tminute: \"2-digit\",\r\n\t\tsecond: \"2-digit\",\r\n\t\ttimeZone: \"America/New_York\",\r\n\t\ttimeZoneName: \"short\",\r\n\t};\r\n\r\n\t// Converts local time to EST/EDT\r\n\tapp.formatter = new Intl.DateTimeFormat(\"sv-SE\", app.options);\r\n\tapp.startingDate = app.currentTime();\r\n\tapp.dateInNewTimezone = app.formatter.format(app.startingDate);\r\n\r\n\t// Grabbing hours and minutes in 24 hour format\r\n\tapp.hours = parseInt(app.dateInNewTimezone.slice(8, 11));\r\n\tapp.minutes = parseInt(app.dateInNewTimezone.slice(12, 15));\r\n};\r\n\r\n// Checks if current time is within 9:30am - 4:30pm EST/EDT\r\napp.businessHours = function () {\r\n\treturn (\r\n\t\t(app.hours >= 9 || (app.hours === 9 && app.minutes >= 30)) &&\r\n\t\tapp.hours < 16\r\n\t);\r\n\r\n\t// For opposite market  styling, uncomment code below:\r\n\r\n\t// return (\r\n\t// \t(app.hours <= 9 || (app.hours === 9 && app.minutes <= 30)) &&\r\n\t// \tapp.hours > 16\r\n\t// );\r\n};\r\n\r\n// Checks if it is a weekday or weekend\r\napp.dayOfWeek = app.currentTime().getDay();\r\napp.isWeekend = app.dayOfWeek === 6 || app.dayOfWeek === 0;\r\n\r\n// Checks current market status\r\napp.marketOpen = function () {\r\n\tif (app.isWeekend || !app.businessHours()) {\r\n\t\treturn \"closed\";\r\n\t} else {\r\n\t\treturn \"open\";\r\n\t}\r\n};\r\n\r\n// Populate date/time field on page\r\napp.marketStatusAndTime = function () {\r\n\t$(\".marketStatus\").text(`Market is currently ${app.marketOpen()}.`);\r\n\t$(\".currentTime\").text(`Last refreshed: ${app.dateInNewTimezone}`);\r\n};\r\n\r\n// Condensed function to call all of the above\r\napp.updateTime = function () {\r\n\tapp.currentTime();\r\n\tapp.dateConversion();\r\n\tapp.marketOpen();\r\n\tapp.marketStatusAndTime();\r\n};\r\n\r\n// Formats negative numbers to be displayed wrapped in brackets\r\napp.bracketWrapNegatives = function (num, sym) {\r\n\tif (typeof num == \"undefined\") {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tif (num[0] === \"(\" && num[num.length - 1] === \")\") {\r\n\t\tnum = `-${num.slice(1, num.length - 1)}`;\r\n\t}\r\n\r\n\tif (num[1] === \"$\") {\r\n\t\tnum = num.slice(2);\r\n\t} else if (num[0] === \"$\") {\r\n\t\tnum = num.slice(1);\r\n\t} else if (num[num.length - 1] === \"%\") {\r\n\t\tnum = num.slice(0, num.length - 1);\r\n\t}\r\n\r\n\tnum = parseFloat(num);\r\n\r\n\tif (num < 0) {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `(${sym}${Math.abs(num).toFixed(2)})`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `(${Math.abs(num).toFixed(2)}${sym})`;\r\n\t\t}\r\n\t} else {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `${sym}${num.toFixed(2)}`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `${num.toFixed(2)}${sym}`;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Converts epoch (ms) to current time\r\napp.epochToDate = function (epoch) {\r\n\tif (epoch < 10000000000) epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)\r\n\tvar epoch = epoch + new Date().getTimezoneOffset() * -1; //for timeZone\r\n\thours = new Date(epoch).getHours();\r\n\tminutes = new Date(epoch).getMinutes() + 1;\r\n\r\n\tif (minutes == 60) {\r\n\t\tminutes = \"00\";\r\n\t\thours += 1;\r\n\t} else if (minutes == 5) {\r\n\t\tminutes = \"05\";\r\n\t}\r\n\r\n\ttime = `${hours}:${minutes}`;\r\n\treturn time;\r\n};\r\n\r\n// Init\r\napp.init = function () {\r\n\tthis.getNews();\r\n\tthis.getWatchlists();\r\n\tthis.getMovers();\r\n\tthis.getSelectValue();\r\n};\r\n\r\n// DocReady\r\n$(function () {\r\n\tapp.init();\r\n});\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\r\n\r\nvar OldModule = module.bundle.Module;\r\n\r\nfunction Module(moduleName) {\r\n  OldModule.call(this, moduleName);\r\n  this.hot = {\r\n    data: module.bundle.hotData,\r\n    _acceptCallbacks: [],\r\n    _disposeCallbacks: [],\r\n    accept: function (fn) {\r\n      this._acceptCallbacks.push(fn || function () {});\r\n    },\r\n    dispose: function (fn) {\r\n      this._disposeCallbacks.push(fn);\r\n    }\r\n  };\r\n\r\n  module.bundle.hotData = null;\r\n}\r\n\r\nmodule.bundle.Module = Module;\r\nvar checkedAssets, assetsToAccept;\r\n\r\nvar parent = module.bundle.parent;\r\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\r\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\r\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\r\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\r\n  ws.onmessage = function(event) {\r\n    checkedAssets = {};\r\n    assetsToAccept = [];\r\n\r\n    var data = JSON.parse(event.data);\r\n\r\n    if (data.type === 'update') {\r\n      var handled = false;\r\n      data.assets.forEach(function(asset) {\r\n        if (!asset.isNew) {\r\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\r\n          if (didAccept) {\r\n            handled = true;\r\n          }\r\n        }\r\n      });\r\n\r\n      // Enable HMR for CSS by default.\r\n      handled = handled || data.assets.every(function(asset) {\r\n        return asset.type === 'css' && asset.generated.js;\r\n      });\r\n\r\n      if (handled) {\r\n        console.clear();\r\n\r\n        data.assets.forEach(function (asset) {\r\n          hmrApply(global.parcelRequire, asset);\r\n        });\r\n\r\n        assetsToAccept.forEach(function (v) {\r\n          hmrAcceptRun(v[0], v[1]);\r\n        });\r\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\r\n        location.reload();\r\n      }\r\n    }\r\n\r\n    if (data.type === 'reload') {\r\n      ws.close();\r\n      ws.onclose = function () {\r\n        location.reload();\r\n      }\r\n    }\r\n\r\n    if (data.type === 'error-resolved') {\r\n      console.log('[parcel]  Error resolved');\r\n\r\n      removeErrorOverlay();\r\n    }\r\n\r\n    if (data.type === 'error') {\r\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\r\n\r\n      removeErrorOverlay();\r\n\r\n      var overlay = createErrorOverlay(data);\r\n      document.body.appendChild(overlay);\r\n    }\r\n  };\r\n}\r\n\r\nfunction removeErrorOverlay() {\r\n  var overlay = document.getElementById(OVERLAY_ID);\r\n  if (overlay) {\r\n    overlay.remove();\r\n  }\r\n}\r\n\r\nfunction createErrorOverlay(data) {\r\n  var overlay = document.createElement('div');\r\n  overlay.id = OVERLAY_ID;\r\n\r\n  // html encode message and stack trace\r\n  var message = document.createElement('div');\r\n  var stackTrace = document.createElement('pre');\r\n  message.innerText = data.error.message;\r\n  stackTrace.innerText = data.error.stack;\r\n\r\n  overlay.innerHTML = (\r\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\r\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\r\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\r\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\r\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\r\n    '</div>'\r\n  );\r\n\r\n  return overlay;\r\n\r\n}\r\n\r\nfunction getParents(bundle, id) {\r\n  var modules = bundle.modules;\r\n  if (!modules) {\r\n    return [];\r\n  }\r\n\r\n  var parents = [];\r\n  var k, d, dep;\r\n\r\n  for (k in modules) {\r\n    for (d in modules[k][1]) {\r\n      dep = modules[k][1][d];\r\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\r\n        parents.push(k);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (bundle.parent) {\r\n    parents = parents.concat(getParents(bundle.parent, id));\r\n  }\r\n\r\n  return parents;\r\n}\r\n\r\nfunction hmrApply(bundle, asset) {\r\n  var modules = bundle.modules;\r\n  if (!modules) {\r\n    return;\r\n  }\r\n\r\n  if (modules[asset.id] || !bundle.parent) {\r\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\r\n    asset.isNew = !modules[asset.id];\r\n    modules[asset.id] = [fn, asset.deps];\r\n  } else if (bundle.parent) {\r\n    hmrApply(bundle.parent, asset);\r\n  }\r\n}\r\n\r\nfunction hmrAcceptCheck(bundle, id) {\r\n  var modules = bundle.modules;\r\n  if (!modules) {\r\n    return;\r\n  }\r\n\r\n  if (!modules[id] && bundle.parent) {\r\n    return hmrAcceptCheck(bundle.parent, id);\r\n  }\r\n\r\n  if (checkedAssets[id]) {\r\n    return;\r\n  }\r\n  checkedAssets[id] = true;\r\n\r\n  var cached = bundle.cache[id];\r\n\r\n  assetsToAccept.push([bundle, id]);\r\n\r\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\r\n    return true;\r\n  }\r\n\r\n  return getParents(global.parcelRequire, id).some(function (id) {\r\n    return hmrAcceptCheck(global.parcelRequire, id)\r\n  });\r\n}\r\n\r\nfunction hmrAcceptRun(bundle, id) {\r\n  var cached = bundle.cache[id];\r\n  bundle.hotData = {};\r\n  if (cached) {\r\n    cached.hot.data = bundle.hotData;\r\n  }\r\n\r\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\r\n    cached.hot._disposeCallbacks.forEach(function (cb) {\r\n      cb(bundle.hotData);\r\n    });\r\n  }\r\n\r\n  delete bundle.cache[id];\r\n  bundle(id);\r\n\r\n  cached = bundle.cache[id];\r\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\r\n    cached.hot._acceptCallbacks.forEach(function (cb) {\r\n      cb();\r\n    });\r\n    return true;\r\n  }\r\n}\r\n"]}