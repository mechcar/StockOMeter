{"version":3,"sources":["script.js"],"names":["app","financeKey","financeHost","summaryURL","symbol","movers","async","crossDomain","url","method","headers","watchlists","summary","chart","profile","getMovers","moversPromise","$","ajax","then","data","moversObj","gainers","finance","result","losers","mostActive","updateTime","marketOpen","toggleClass","moverSize","quotes","slice","forEach","quote","HTMLtoAppend","append","addClass","removeClass","click","e","preventDefault","val","getSummary","getChart","getProfile","getWatchlists","watchlistsPromise","res","portfolios","splice","console","log","watchlist","name","backgroundImage","shortDescription","slug","getSelectValue","on","toUpperCase","length","Swal","fire","title","text","icon","confirmButtonText","width","timer","timerProgressBar","summaryPromise","values","quoteResponse","validExchanges","exchange","includes","changeCheck","regularMarketChange","valuesObj","longName","previousClosingPrice","regularMarketPreviousClose","openingPrice","regularMarketOpen","price","regularMarketPrice","daysChangeDollars","daysChangePercent","regularMarketChangePercent","regularMarketDayLow","regularMarketDayHigh","fiftyTwoWeekLow","fiftyTwoWeekHigh","regularMarketVolume","averageVolume10Day","averageDailyVolume10Day","valuesObjEntries","Object","entries","newValuesObjEntries","i","availableValuesObj","availableValuesObjArr","check","populate","pennyStockFormatter","value","toFixed","end","parseFloat","bracketWrapNegatives","toLocaleString","getChartColor","chartColor","chartPromise","chartArr","timeAxis","timestamp","priceAxis","indicators","open","undefined","businessOpenEpoch","arr","epochToDate","businessCloseEpoch","j","start","stop","getBusinessHoursIndex","concatArr","arrA","arrB","map","item","index","timePrice","dataTable","concat","google","charts","load","packages","setOnLoadCallback","drawChart","prices","visualization","arrayToDataTable","options","dateInNewTimezone","hAxis","titleTextStyle","color","textStyle","vAxis","minValue","Math","min","maxValue","max","legend","backgroundColor","chartArea","colors","AreaChart","document","getElementById","draw","window","resize","profilePromise","companyDescription","assetProfile","longBusinessSummary","empty","stopImmediatePropagation","currentTime","Date","dateConversion","toLocaleTimeString","day","month","year","hour","minute","second","timeZone","timeZoneName","formatter","Intl","DateTimeFormat","startingDate","format","hours","parseInt","minutes","businessHours","dayOfWeek","getDay","isWeekend","marketStatusAndTime","num","sym","abs","epoch","getTimezoneOffset","getHours","getMinutes","time","init"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["// APP using Yahoo Finance API calls to query various quotes for stocks traded on US exchanges\r\n// Proper error handling to address invalid stock symbols and insufficient\r\n// Displays top movers (% gain/ % loss/ most active by volume)\r\n// Displays updated chart when available\r\n\r\nconst app = {};\r\n\r\n// API information from: https://rapidapi.com/apidojo/api/yahoo-finance1\r\napp.financeKey = \"57edb9d42emsh2e21cedcaa1cecbp1f2a9ajsn8c9fb7947387\";\r\napp.financeHost = \"apidojo-yahoo-finance-v1.p.rapidapi.com\";\r\n\r\napp.summaryURL =\r\n\t\"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-quotes?region=US\";\r\n\r\n// API requires at least one entry to return a summary, AMC chosen as default\r\napp.symbol = \"1\";\r\n\r\n// Function to call settings of top movers API call\r\napp.movers = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/v2/get-movers?region=US&lang=en-US&count=10&start=0\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\napp.watchlists = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: \"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/get-popular-watchlists\",\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock summary API call\r\napp.summary = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `${app.summaryURL}&symbols=${app.symbol}`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of stock chart API call\r\napp.chart = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-chart?interval=5m&symbol=${app.symbol}&range=1d&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Function to call settings of profile API call\r\napp.profile = function () {\r\n\treturn {\r\n\t\tasync: true,\r\n\t\tcrossDomain: true,\r\n\t\turl: `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-profile?symbol=${app.symbol}&region=US`,\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"x-rapidapi-key\": app.financeKey,\r\n\t\t\t\"x-rapidapi-host\": app.financeHost,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// API call for top movers\r\napp.getMovers = function () {\r\n\tconst moversPromise = $.ajax(app.movers());\r\n\treturn moversPromise.then(function (data) {\r\n\t\t// Storing objects of gainers, losers and most active stocks into accessible variables\r\n\t\tconst moversObj = {\r\n\t\t\tgainers: data.finance.result[0],\r\n\t\t\tlosers: data.finance.result[1],\r\n\t\t\tmostActive: data.finance.result[2],\r\n\t\t};\r\n\r\n\t\t// Updates the current time to check if market is open\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Hides most active stocks when market is closed as API returns no data at this time\r\n\t\tif (app.marketOpen() == \"closed\") {\r\n\t\t\t$(\".movers\").toggleClass(\"showMarketClosed\");\r\n\t\t}\r\n\r\n\t\tapp.moverSize = 6;\r\n\r\n\t\t// Populates gainers container with buttons\r\n\t\tmoversObj.gainers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"gainer\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".gainers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Populates losers container with buttons\r\n\t\tmoversObj.losers.quotes\r\n\t\t\t.slice(0, app.moverSize)\r\n\t\t\t.forEach(function (quote) {\r\n\t\t\t\tconst HTMLtoAppend = `<div class=\"loser\">\r\n                <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n            </div>`;\r\n\t\t\t\t$(\".losers\").append(HTMLtoAppend);\r\n\t\t\t});\r\n\r\n\t\t// Toggles CSS class to display gainers and losers\r\n\t\t$(\".gainers\").addClass(\"show\");\r\n\t\t$(\".gainers\").removeClass(\"hidden\");\r\n\t\t$(\".gainersTitle\").addClass(\"show\");\r\n\t\t$(\".gainersTitle\").removeClass(\"hidden\");\r\n\t\t$(\".losers\").addClass(\"show\");\r\n\t\t$(\".losers\").removeClass(\"hidden\");\r\n\t\t$(\".losersTitle\").addClass(\"show\");\r\n\t\t$(\".losersTitle\").removeClass(\"hidden\");\r\n\r\n\t\t// Checks if market is open to display most active stocks\r\n\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t$(\".mostActive\").addClass(\"showMostActive\");\r\n\t\t\t$(\".mostActive\").removeClass(\"hidden\");\r\n\t\t\t$(\".mostActiveTitle\").addClass(\"show\");\r\n\t\t\t$(\".mostActiveTitle\").removeClass(\"hidden\");\r\n\r\n\t\t\t// If market is open, movers container is populated with buttons\r\n\t\t\tmoversObj.mostActive.quotes\r\n\t\t\t\t.slice(0, app.moverSize)\r\n\t\t\t\t.forEach(function (quote) {\r\n\t\t\t\t\tconst HTMLtoAppend = `<div class=\"mostActiveSymbols\">\r\n                    <button id=\"moverSymbol\" value=${quote.symbol}>${quote.symbol}</button>\r\n                </div>`;\r\n\t\t\t\t\t$(\".mostActive\").append(HTMLtoAppend);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Links the buttons to subsequent API calls to pull up summary and chart data\r\n\t\t$(\"button\").click(function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.symbol = $(this).val();\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getWatchlists = function () {\r\n\tconst watchlistsPromise = $.ajax(app.watchlists());\r\n\treturn watchlistsPromise.then(function (res) {\r\n\t\tconst watchlists = res.finance.result[0].portfolios.splice(0, 8);\r\n\t\tconsole.log(res.finance.result[0].portfolios);\r\n\t\tconsole.log(watchlists);\r\n\r\n\t\twatchlists.forEach(function (watchlist) {\r\n\t\t\tconst HTMLtoAppend = `<div class=\"popularWatchlist\">\r\n\t\t\t\t<h3>${watchlist.name}</h3>\r\n\t\t\t\t<div class='watchlistInfo'> \r\n\t\t\t\t<img src=${\r\n\t\t\t\t\twatchlist.backgroundImage[\"ios:size=card_small_fixed\"].url\r\n\t\t\t\t} alt=${`${watchlist.name} Cover Image`}>\r\n\t\t\t\t<p>${watchlist.shortDescription}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<a href=${`https://ca.finance.yahoo.com/u/yahoo-finance/watchlists/${watchlist.slug}`} class='watchlistDetails'><button>View Watchlist</button></a>\r\n\r\n            </div>`;\r\n\t\t\t$(\".watchlistsContainer\").append(HTMLtoAppend);\r\n\t\t});\r\n\r\n\t\t$(\"#watchlists\").addClass(\"show\");\r\n\t\t$(\"#watchlists\").removeClass(\"hidden\");\r\n\t\t$(\"#footer\").removeClass(\"hidden\");\r\n\t\t$(\"#footer\").addClass(\"show\");\r\n\t});\r\n};\r\n\r\n// Function to handle and register stock symbol from text input\r\napp.getSelectValue = function () {\r\n\t$(\"form\").on(\"submit\", function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Registers stock symbol from search bar\r\n\t\tapp.symbol = $(\"#symbol\").val().toUpperCase();\r\n\r\n\t\t// Error 1: handling symbols with length of more than 5 characters\r\n\t\tif (app.symbol.length > 5) {\r\n\t\t\tconsole.log(\"Error 1!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${\r\n\t\t\t\t\tapp.symbol\r\n\t\t\t\t} is not a listed US security. Most symbols traded in the US have a symbol length between 1 and 5 characters. Did you mean ${app.symbol.slice(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t5\r\n\t\t\t\t)}?`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\ttimer: 5000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t}\r\n\r\n\t\t// Proceeds to summary and chart API calls if the symbol is within accepted length\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t\tapp.getSummary(app.summary());\r\n\t\t\tapp.getChart(app.chart());\r\n\t\t\tapp.getProfile(app.profile());\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// API call for stock summary\r\napp.getSummary = function () {\r\n\tconst summaryPromise = $.ajax(app.summary());\r\n\treturn summaryPromise.then(function (data) {\r\n\t\t// Storing values in an accessible variable\r\n\t\tvalues = data.quoteResponse.result[0];\r\n\r\n\t\t// Error 2: if call returns no values\r\n\t\tif (typeof values === \"undefined\") {\r\n\t\t\tconsole.log(\"Error 2!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Updates market time with each call\r\n\t\tapp.updateTime();\r\n\r\n\t\t// Checks symbol's corresponding exchange to determine if it is a US security\r\n\t\tvalidExchanges = [\r\n\t\t\t\"NYQ\",\r\n\t\t\t\"PNK\",\r\n\t\t\t\"NMS\",\r\n\t\t\t\"YHD\",\r\n\t\t\t\"NCM\",\r\n\t\t\t\"NGM\",\r\n\t\t\t\"ARC\",\r\n\t\t\t\"BATS\",\r\n\t\t\t\"NGS\",\r\n\t\t\t\"OOTC\",\r\n\t\t\t\"OTC\",\r\n\t\t\t\"ASE\",\r\n\t\t];\r\n\t\texchange = values.exchange;\r\n\r\n\t\t// Error 3: handling for instances where certain values are not found\r\n\t\tif (!validExchanges.includes(exchange)) {\r\n\t\t\tconsole.log(\"Error 3!\", exchange);\r\n\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not a listed US security. It trades on ${exchange}. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Begin populating div.values with values\r\n\r\n\t\t\t// Sign of market change stored for later use in chart formatting\r\n\t\t\tapp.changeCheck = values.regularMarketChange;\r\n\r\n\t\t\t// Object to store desired values from successful API call\r\n\t\t\tconst valuesObj = {\r\n\t\t\t\tlongName: values.longName,\r\n\t\t\t\tpreviousClosingPrice: values.regularMarketPreviousClose,\r\n\t\t\t\topeningPrice: values.regularMarketOpen,\r\n\t\t\t\tprice: values.regularMarketPrice,\r\n\t\t\t\tdaysChangeDollars: values.regularMarketChange,\r\n\t\t\t\tdaysChangePercent: values.regularMarketChangePercent,\r\n\t\t\t\tregularMarketDayLow: values.regularMarketDayLow,\r\n\t\t\t\tregularMarketDayHigh: values.regularMarketDayHigh,\r\n\t\t\t\tfiftyTwoWeekLow: values.fiftyTwoWeekLow,\r\n\t\t\t\tfiftyTwoWeekHigh: values.fiftyTwoWeekHigh,\r\n\t\t\t\tregularMarketVolume: values.regularMarketVolume,\r\n\t\t\t\taverageVolume10Day: values.averageDailyVolume10Day,\r\n\t\t\t};\r\n\r\n\t\t\t// Confirming that the call returns all 13 pieces of information using a for loop\r\n\t\t\tconst valuesObjEntries = Object.entries(valuesObj);\r\n\t\t\tconst newValuesObjEntries = Object.entries(valuesObj);\r\n\r\n\t\t\t// If an entry is undefined, its value is changed to 0\r\n\t\t\tfor (i = 0; i < valuesObjEntries.length; i++) {\r\n\t\t\t\tif (typeof valuesObjEntries[i][1] === \"undefined\") {\r\n\t\t\t\t\tnewValuesObjEntries[i][1] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Converting the entries array back into an object\r\n\t\t\tconst availableValuesObj = {\r\n\t\t\t\tlongName: newValuesObjEntries[0][1],\r\n\t\t\t\tpreviousClosingPrice: newValuesObjEntries[1][1],\r\n\t\t\t\topeningPrice: newValuesObjEntries[2][1],\r\n\t\t\t\tprice: newValuesObjEntries[3][1],\r\n\t\t\t\tdaysChangeDollars: newValuesObjEntries[4][1],\r\n\t\t\t\tdaysChangePercent: newValuesObjEntries[5][1],\r\n\t\t\t\tregularMarketDayLow: newValuesObjEntries[6][1],\r\n\t\t\t\tregularMarketDayHigh: newValuesObjEntries[7][1],\r\n\t\t\t\tfiftyTwoWeekLow: newValuesObjEntries[8][1],\r\n\t\t\t\tfiftyTwoWeekHigh: newValuesObjEntries[9][1],\r\n\t\t\t\tregularMarketVolume: newValuesObjEntries[10][1],\r\n\t\t\t\taverageVolume10Day: newValuesObjEntries[11][1],\r\n\t\t\t};\r\n\r\n\t\t\t// Creating an array to check for unavailable data\r\n\t\t\tconst availableValuesObjArr = Object.values(availableValuesObj);\r\n\r\n\t\t\t// Variable to track number of entries that are missing data\r\n\t\t\tapp.check = 0;\r\n\r\n\t\t\tfor (i = 0; i < availableValuesObjArr.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tavailableValuesObjArr[i] === 0 ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"$0.00\" ||\r\n\t\t\t\t\tavailableValuesObjArr[i] === \"0.00%\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tapp.check += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Error 4: handling symbols with insufficient data\r\n\t\t\t// If the entire array is comprised of the above values, then the symbol is considered inactive\r\n\t\t\tif (app.check == 12) {\r\n\t\t\t\tconsole.log(\"Error 4!\");\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Error!`,\r\n\t\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. Try another symbol.`,\r\n\t\t\t\t\ticon: \"warning\",\r\n\t\t\t\t\twidth: 400,\r\n\t\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\t\ttimer: 3000,\r\n\t\t\t\t\ttimerProgressBar: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t} else {\r\n\t\t\t\t// Populate quotesContent with values\r\n\t\t\t\tapp.populate = function () {\r\n\t\t\t\t\t// Updates current time\r\n\t\t\t\t\tapp.updateTime();\r\n\r\n\t\t\t\t\tapp.pennyStockFormatter = function (value) {\r\n\t\t\t\t\t\tif (typeof value === \"number\") {\r\n\t\t\t\t\t\t\tif (value < 1) {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(3);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn value.toFixed(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = value[value.length - 1];\r\n\t\t\t\t\t\t\tif (value[0] === \"$\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(1)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `$${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(1)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (value[end] === \"%\") {\r\n\t\t\t\t\t\t\t\tif (parseFloat(value.slice(0, end)) < 1) {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(3)}%`;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn `${parseFloat(\r\n\t\t\t\t\t\t\t\t\t\tvalue.slice(0, end)\r\n\t\t\t\t\t\t\t\t\t).toFixed(2)}%`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Updating variables to correct decimal places\r\n\t\t\t\t\tavailableValuesObj.previousClosingPrice =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.previousClosingPrice\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.openingPrice = app.pennyStockFormatter(\r\n\t\t\t\t\t\tavailableValuesObj.openingPrice\r\n\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangeDollars =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.daysChangePercent =\r\n\t\t\t\t\t\tapp.bracketWrapNegatives(\r\n\t\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\"%\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.regularMarketDayHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.regularMarketDayHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekLow\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh =\r\n\t\t\t\t\t\tapp.pennyStockFormatter(\r\n\t\t\t\t\t\t\tavailableValuesObj.fiftyTwoWeekHigh\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tavailableValuesObj.price = app.bracketWrapNegatives(\r\n\t\t\t\t\t\tapp.pennyStockFormatter(availableValuesObj.price),\r\n\t\t\t\t\t\t\"$\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Populates longName, previousClosingPrice, openingPrice, daysChangeDollars and daysChangePercent spans\r\n\t\t\t\t\t$(\".longName\").text(availableValuesObj.longName);\r\n\t\t\t\t\t$(\".previousClosingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.previousClosingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".openingPrice\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.openingPrice}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangeDollars\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangeDollars\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".daysChangePercent\").text(\r\n\t\t\t\t\t\tavailableValuesObj.daysChangePercent\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to opening price if less than previous close\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.openingPrice) <\r\n\t\t\t\t\t\tparseFloat(availableValuesObj.previousClosingPrice)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t$(\".openingPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the value is left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".openingPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to Day's Change and price if negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").addClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").addClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Otherwise the values are left green\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$(\".regularMarketPrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangeDollars\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t\t$(\".daysChangePercent\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Populates daysRange, fiftyTwoWeekRange, regularMarketVolume and averageVolume10Day spans\r\n\t\t\t\t\t$(\".daysRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.regularMarketDayLow} - $${availableValuesObj.regularMarketDayHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".fiftyTwoWeekRange\").text(\r\n\t\t\t\t\t\t`$${availableValuesObj.fiftyTwoWeekLow} - $${availableValuesObj.fiftyTwoWeekHigh}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".regularMarketVolume\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.regularMarketVolume.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\t$(\".averageVolume10Day\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.averageVolume10Day.toLocaleString(\r\n\t\t\t\t\t\t\t\"en-US\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Displays quotesContent and sets symbol\r\n\t\t\t\t\t$(\"#quotesContent\").addClass(\"show\");\r\n\t\t\t\t\t$(\"#quotesContent\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".symbol\").text(`${app.symbol}`);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Check whether market is open to display either \"Current Price: \" or \"Close: \"\r\n\t\t\t\t// Market open response:\r\n\t\t\t\tif (app.marketOpen() == \"open\") {\r\n\t\t\t\t\tapp.populate();\r\n\r\n\t\t\t\t\t$(\".regularMarketPrice\").text(\r\n\t\t\t\t\t\t`${availableValuesObj.price}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Market closed response:\r\n\t\t\t\telse {\r\n\t\t\t\t\tapp.populate();\r\n\t\t\t\t\t$(\".regularMarketPrice\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".regularMarketPriceHeader\").addClass(\"hidden\");\r\n\t\t\t\t\t$(\".closePrice\").text(`${availableValuesObj.price}`);\r\n\t\t\t\t\t$(\".closeHeader\").removeClass(\"hidden\");\r\n\t\t\t\t\t$(\".closeHeader\").addClass(\"showMarketClosed\");\r\n\r\n\t\t\t\t\t// Applying CSS class negativeValue to close price if day's change was negative\r\n\t\t\t\t\tif (values.regularMarketChange < 0) {\r\n\t\t\t\t\t\t$(\".closePrice\").addClass(\"negativeValue\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(\".closePrice\").removeClass(\"negativeValue\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// // Queries day's change to determine whether chart is displayed in red (-ve change) or green (+ve change)\r\napp.getChartColor = function () {\r\n\tapp.chartColor = \"green\";\r\n\r\n\tif (app.changeCheck < 0) {\r\n\t\tapp.chartColor = \"red\";\r\n\t}\r\n};\r\n\r\n// API call for stock chart\r\napp.getChart = function () {\r\n\tconst chartPromise = $.ajax(app.chart());\r\n\tchartPromise.then(function (data) {\r\n\t\t// Run here in an attempt to make the color change more responsive to quick switches between red and green graphs\r\n\t\tapp.getChartColor();\r\n\r\n\t\tconst chartArr = data.chart.result[0];\r\n\t\ttimeAxis = chartArr.timestamp;\r\n\t\tpriceAxis = chartArr.indicators.quote[0].open;\r\n\r\n\t\t// Error 5: handling symbols with summary data but no graph data\r\n\t\tif (timeAxis == undefined && app.getSummary()) {\r\n\t\t\tconsole.log(\"Error 5!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} does not have updated chart information.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\t// Error 6: handling symbols without graph timestamp, price or summary data\r\n\t\telse if (timeAxis == (undefined || null)) {\r\n\t\t\tconsole.log(\"Error 6!\");\r\n\t\t\t$(\".quotesContent\").addClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").removeClass(\"show\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is not an active US security. It may have been delisted. Try another symbol.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t\t$(\".profileInformation\").addClass(\"show\");\r\n\t\t\t$(\".profileInformation\").removeClass(\"hidden\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Preparing the page for the addition of summary and graph data, and clearing any errors\r\n\t\telse {\r\n\t\t\t$(\".quotesContent\").removeClass(\"hidden\");\r\n\t\t\t$(\".quotesContent\").addClass(\"show\");\r\n\t\t\t$(\".chart\").removeClass(\"hidden\");\r\n\t\t\t$(\".chart\").addClass(\"show\");\r\n\t\t}\r\n\r\n\t\t// Finds index of array corresponding to 9:30am timestamp\r\n\t\tbusinessOpenEpoch = function (arr) {\r\n\t\t\tfor (i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (app.epochToDate(arr[i]) === \"9:30\") {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Finds index of array corresponding to either current time if the market is open or the 4:05pm timestamp if the market is closed.\r\n\t\t// This is used as the end index when querying the price data for the graph\r\n\t\tbusinessCloseEpoch = function (arr) {\r\n\t\t\tfor (j = 0; j < arr.length; j++) {\r\n\t\t\t\tif (app.epochToDate(arr[j]) === \"16:05\") {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t} else if (j === arr.length) {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Setting the variables for start and stop index of the time and price arrays\r\n\t\tconst start = businessOpenEpoch(timeAxis);\r\n\t\tconst stop = businessCloseEpoch(timeAxis);\r\n\r\n\t\t// Returns the data from indices within our desired range of 9:30am -> current time or 4:00pm\r\n\t\tgetBusinessHoursIndex = function (arr) {\r\n\t\t\treturn arr.slice(start, stop);\r\n\t\t};\r\n\r\n\t\ttimeAxis = getBusinessHoursIndex(timeAxis);\r\n\r\n\t\t// Converts the array of epoch to local time string (ex: \"9:30\",\"16:00\")\r\n\t\tfor (i = 0; i < timeAxis.length; i++) {\r\n\t\t\ttimeAxis[i] = app.epochToDate(timeAxis[i]);\r\n\t\t}\r\n\r\n\t\t// Error 7: handling arrays that contain incomplete data from entire business day\r\n\t\tif (app.marketOpen() == \"closed\" && timeAxis.length < 75) {\r\n\t\t\tconsole.log(\"Error 7!\");\r\n\t\t\t$(\".chart\").addClass(\"hidden\");\r\n\t\t\t$(\".chart\").removeClass(\"show\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing chart data for parts of the regular market open.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\r\n\t\tpriceAxis = getBusinessHoursIndex(priceAxis);\r\n\r\n\t\t// Formats the available price data into either 4 decimals (for stocks under $1) or 2 decimals\r\n\t\tfor (i = 0; i < priceAxis.length; i++) {\r\n\t\t\tif (priceAxis[i] === null) {\r\n\t\t\t\tpriceAxis[i] = priceAxis[i - 1];\r\n\t\t\t} else if (priceAxis[i] < 1.0) {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(4));\r\n\t\t\t} else {\r\n\t\t\t\tpriceAxis[i] = parseFloat(priceAxis[i].toFixed(2));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Creates a 2D array by concatenating the timeAxis and priceAxis arrays\r\n\t\t// This is needed to format the dataTable used to display the graph in Google Charts\r\n\t\tconcatArr = function (arrA, arrB) {\r\n\t\t\treturn arrA.map((item, index) => [item, arrB[index]]);\r\n\t\t};\r\n\r\n\t\ttimePrice = concatArr(timeAxis, priceAxis);\r\n\r\n\t\t// Adds a top row to the 2D array containing the title \"Time\" and the symbol of the stock\r\n\t\tdataTable = [[\"Time\", `${app.symbol}`]].concat(timePrice);\r\n\r\n\t\t// Loads the chart\r\n\t\tgoogle.charts.load(\"current\", { packages: [\"corechart\"] });\r\n\t\tgoogle.charts.setOnLoadCallback(drawChart);\r\n\r\n\t\t// Draws the chart\r\n\t\tfunction drawChart() {\r\n\t\t\tconst prices = google.visualization.arrayToDataTable(dataTable);\r\n\r\n\t\t\t// Formatting options for graph\r\n\t\t\toptions = {\r\n\t\t\t\ttitle: `${app.symbol} - ${app.dateInNewTimezone}`,\r\n\r\n\t\t\t\thAxis: {\r\n\t\t\t\t\ttitle: \"Time\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tvAxis: {\r\n\t\t\t\t\tminValue: Math.min(priceAxis) - 5,\r\n\t\t\t\t\tmaxValue: Math.max(priceAxis) + 5,\r\n\t\t\t\t\ttitle: \"Price\",\r\n\t\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\t\ttextStyle: { color: \"white\" },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlegend: { textStyle: { color: \"white\" } },\r\n\t\t\t\ttitleTextStyle: { color: \"white\" },\r\n\t\t\t\tbackgroundColor: \"black\",\r\n\t\t\t\tchartArea: { backgroundColor: \"black\" },\r\n\t\t\t\tcolors: [`${app.chartColor}`],\r\n\t\t\t};\r\n\r\n\t\t\t// Calling graph\r\n\t\t\tconst chart = new google.visualization.AreaChart(\r\n\t\t\t\tdocument.getElementById(\"graph\")\r\n\t\t\t);\r\n\t\t\tchart.draw(prices, options);\r\n\t\t}\r\n\t\t$(window).resize(function () {\r\n\t\t\tdrawChart();\r\n\t\t});\r\n\t});\r\n};\r\n\r\napp.getProfile = function () {\r\n\tconst profilePromise = $.ajax(app.profile());\r\n\tprofilePromise.then(function (data) {\r\n\t\tapp.companyDescription = data.assetProfile.longBusinessSummary;\r\n\r\n\t\tif (app.companyDescription === undefined) {\r\n\t\t\t$(\".profileInformation\").addClass(\"hidden\");\r\n\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Error!`,\r\n\t\t\t\ttext: `It appears that ${app.symbol} is missing information from its profile.`,\r\n\t\t\t\ticon: \"warning\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tconfirmButtonText: \"Continue\",\r\n\t\t\t\ttimer: 3000,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t} else {\r\n\t\t\t$(\".profileInformation\").empty();\r\n\r\n\t\t\t// Populates profileInformation container\r\n\t\t\tconst HTMLtoAppend = `<button class=\"getProfile\" value=${app.symbol}>View Profile</button>`;\r\n\t\t\t$(\".profileInformation\").append(HTMLtoAppend);\r\n\r\n\t\t\t// Displays profile\r\n\t\t\t$(\".profileInformation\").on(\"click\", function (e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttitle: `Profile for ${app.symbol}:`,\r\n\t\t\t\t\ttext: app.companyDescription,\r\n\t\t\t\t\ticon: \"info\",\r\n\t\t\t\t\twidth: 400,\r\n\t\t\t\t\tconfirmButtonText: \"Return to Quote\",\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t$(\"#symbol\").val(\"\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Helper functions\r\n\r\n// Checks current time to verify whether market is open or closed\r\napp.currentTime = function () {\r\n\treturn new Date();\r\n};\r\n\r\n// Converts date to format usable for other calculations ()\r\napp.dateConversion = function () {\r\n\tapp.currentTime.toLocaleTimeString;\r\n\r\n\t// Options to return time in EST/EDT\r\n\tapp.options = {\r\n\t\tday: \"2-digit\",\r\n\t\tmonth: \"2-digit\",\r\n\t\tyear: \"2-digit\",\r\n\t\thour: \"2-digit\",\r\n\t\tminute: \"2-digit\",\r\n\t\tsecond: \"2-digit\",\r\n\t\ttimeZone: \"America/New_York\",\r\n\t\ttimeZoneName: \"short\",\r\n\t};\r\n\r\n\t// Converts local time to EST/EDT\r\n\tapp.formatter = new Intl.DateTimeFormat(\"sv-SE\", app.options);\r\n\tapp.startingDate = app.currentTime();\r\n\tapp.dateInNewTimezone = app.formatter.format(app.startingDate);\r\n\r\n\t// Grabbing hours and minutes in 24 hour format\r\n\tapp.hours = parseInt(app.dateInNewTimezone.slice(8, 11));\r\n\tapp.minutes = parseInt(app.dateInNewTimezone.slice(12, 15));\r\n};\r\n\r\n// Checks if current time is within 9:30am - 4:30pm EST/EDT\r\napp.businessHours = function () {\r\n\treturn (\r\n\t\t(app.hours >= 9 || (app.hours === 9 && app.minutes >= 30)) &&\r\n\t\tapp.hours < 16\r\n\t);\r\n\r\n\t// For opposite market  styling, uncomment code below:\r\n\r\n\t// return (\r\n\t// \t(app.hours <= 9 || (app.hours === 9 && app.minutes <= 30)) &&\r\n\t// \tapp.hours > 16\r\n\t// );\r\n};\r\n\r\n// Checks if it is a weekday or weekend\r\napp.dayOfWeek = app.currentTime().getDay();\r\napp.isWeekend = app.dayOfWeek === 6 || app.dayOfWeek === 0;\r\n\r\n// Checks current market status\r\napp.marketOpen = function () {\r\n\tif (app.isWeekend || !app.businessHours()) {\r\n\t\treturn \"closed\";\r\n\t} else {\r\n\t\treturn \"open\";\r\n\t}\r\n};\r\n\r\n// Populate date/time field on page\r\napp.marketStatusAndTime = function () {\r\n\t$(\".marketStatus\").text(`Market is currently ${app.marketOpen()}.`);\r\n\t$(\".currentTime\").text(`Last refreshed: ${app.dateInNewTimezone}`);\r\n};\r\n\r\n// Condensed function to call all of the above\r\napp.updateTime = function () {\r\n\tapp.currentTime();\r\n\tapp.dateConversion();\r\n\tapp.marketOpen();\r\n\tapp.marketStatusAndTime();\r\n};\r\n\r\n// Formats negative numbers to be displayed wrapped in brackets\r\napp.bracketWrapNegatives = function (num, sym) {\r\n\tif (typeof num == \"undefined\") {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tif (num[0] === \"(\" && num[num.length - 1] === \")\") {\r\n\t\tnum = `-${num.slice(1, num.length - 1)}`;\r\n\t}\r\n\r\n\tif (num[1] === \"$\") {\r\n\t\tnum = num.slice(2);\r\n\t} else if (num[0] === \"$\") {\r\n\t\tnum = num.slice(1);\r\n\t} else if (num[num.length - 1] === \"%\") {\r\n\t\tnum = num.slice(0, num.length - 1);\r\n\t}\r\n\r\n\tnum = parseFloat(num);\r\n\r\n\tif (num < 0) {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `(${sym}${Math.abs(num).toFixed(2)})`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `(${Math.abs(num).toFixed(2)}${sym})`;\r\n\t\t}\r\n\t} else {\r\n\t\tif (sym === \"$\") {\r\n\t\t\treturn `${sym}${num.toFixed(2)}`;\r\n\t\t} else if (sym === \"%\") {\r\n\t\t\treturn `${num.toFixed(2)}${sym}`;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Converts epoch (ms) to current time\r\napp.epochToDate = function (epoch) {\r\n\tif (epoch < 10000000000) epoch *= 1000; // convert to milliseconds (Epoch is usually expressed in seconds, but Javascript uses Milliseconds)\r\n\tvar epoch = epoch + new Date().getTimezoneOffset() * -1; //for timeZone\r\n\thours = new Date(epoch).getHours();\r\n\tminutes = new Date(epoch).getMinutes() + 1;\r\n\r\n\tif (minutes == 60) {\r\n\t\tminutes = \"00\";\r\n\t\thours += 1;\r\n\t} else if (minutes == 5) {\r\n\t\tminutes = \"05\";\r\n\t}\r\n\r\n\ttime = `${hours}:${minutes}`;\r\n\treturn time;\r\n};\r\n\r\n// Init\r\napp.init = function () {\r\n\tthis.getWatchlists();\r\n\tthis.getMovers();\r\n\tthis.getSelectValue();\r\n};\r\n\r\n// DocReady\r\n$(function () {\r\n\tapp.init();\r\n});\r\n"]}